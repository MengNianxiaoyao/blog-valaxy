import{_ as k}from"./ValaxyMain.vue_vue_type_style_index_0_lang.BEwKRJRT.js";import"./chunks/@vueuse/motion.9EU7dIeG.js";import{f,u as g,a as h}from"./chunks/vue-router.bk4UmuJy.js";import{aa as c,al as a,ad as n,ae as e,ai as t,W as v,a9 as F,F as C,ab as w,Z as y}from"./framework.BJHX8G_O.js";import"./app.3CbOrYDD.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.zgqw_MSH.js";import"./chunks/pinia.CkUdt-k2.js";import"./chunks/nprogress.BUJ8z3Mp.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.CZIr_Guj.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.CxkmJdb4.js";import"./post.BsZGShSP.js";const B={class:"tip custom-block"},$={class:"custom-block-title custom-block-title-default"},A=f("/posts/novelai/novelai2",async o=>JSON.parse('{"title":"【Novelai】快速提取tag，生成美图！","description":"","frontmatter":{"title":"【Novelai】快速提取tag，生成美图！","categories":"AI教程","tags":["Novelai","文档","AI教程"],"cover":"https://i0.hdslb.com/bfs/article/8426c033f0707a3bcf67feb214d9097b381745966.jpg","date":"2022-10-18 14:30:00 +8","updated":"2022-10-18 14:30:00 +8"},"headers":[],"relativePath":"pages/posts/novelai/novelai2.md","lastUpdated":1762005290000}'),{lazy:(o,i)=>o.name===i.name}),G={__name:"novelai2",setup(o,{expose:i}){const{data:p}=A(),d=h(),u=g(),r=Object.assign(u.meta.frontmatter||{},p.value?.frontmatter||{});return d.currentRoute.value.data=p.value,y("valaxy:frontmatter",r),globalThis.$frontmatter=r,i({frontmatter:{title:"【Novelai】快速提取tag，生成美图！",categories:"AI教程",tags:["Novelai","文档","AI教程"],cover:"https://i0.hdslb.com/bfs/article/8426c033f0707a3bcf67feb214d9097b381745966.jpg",date:"2022-10-18 14:30:00 +8",updated:"2022-10-18 14:30:00 +8"}}),(l,s)=>{const b=F("VT"),m=k;return w(),c(m,{frontmatter:C(r)},{"main-content-md":a(()=>[s[2]||(s[2]=e("blockquote",null,[e("p",null,[e("a",{href:"https://pan.baidu.com/s/1X0EILzEg6OEAk3q0qSRPFg?pwd=368y",target:"_blank",rel:"noreferrer"},"stable-diffusion-webui下载")])],-1)),s[3]||(s[3]=e("h2",{id:"安装deepbooru模块",tabindex:"-1"},[t("安装deepbooru模块 "),e("a",{class:"header-anchor",href:"#安装deepbooru模块","aria-label":'Permalink to "安装deepbooru模块"'},"​")],-1)),s[4]||(s[4]=e("p",null,[t("添加deepbooru安装命令进行安装，按照以下格式添加到"),e("code",null,"webui-user.bat"),t("文件中")],-1)),s[5]||(s[5]=e("div",{class:"vp-code-block-title"},[e("div",{class:"vp-code-block-title-bar"},[e("span",{class:"vp-code-block-title-text","data-title":"shell"},"shell")]),e("div",{class:"language-shell max-h-200px line-numbers-mode"},[e("button",{title:"Copy code",class:"copy"}),e("span",{class:"lang"},"shell"),e("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[e("code",{"v-pre":""},[e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"@echo"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," off")]),t(`
`),e("span",{class:"line"}),t(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," PYTHON=")]),t(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," GIT=")]),t(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," VENV_DIR=")]),t(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"set"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," COMMANDLINE_ARGS=--deepbooru")]),t(`
`),e("span",{class:"line"}),t(`
`),e("span",{class:"line"},[e("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"call"),e("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," webui.bat")])])]),e("button",{class:"code-block-unfold-btn"}),e("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[e("span",{class:"line-number"},"1"),e("br"),e("span",{class:"line-number"},"2"),e("br"),e("span",{class:"line-number"},"3"),e("br"),e("span",{class:"line-number"},"4"),e("br"),e("span",{class:"line-number"},"5"),e("br"),e("span",{class:"line-number"},"6"),e("br"),e("span",{class:"line-number"},"7"),e("br"),e("span",{class:"line-number"},"8"),e("br")])])],-1)),e("div",B,[e("p",$,[s[0]||(s[0]=e("i",{class:"icon i-arcticons-pixel-tips"},null,-1)),v(b,{content:"blocks.tip"})]),s[1]||(s[1]=e("p",null,"如果显示报错，请科学上网",-1))]),s[6]||(s[6]=e("h2",{id:"下载deepbooru依赖",tabindex:"-1"},[t("下载deepbooru依赖 "),e("a",{class:"header-anchor",href:"#下载deepbooru依赖","aria-label":'Permalink to "下载deepbooru依赖"'},"​")],-1)),s[7]||(s[7]=e("p",null,[t("安装deepbooru模块完成后，打开webui网页，选择"),e("code",null,"img2img"),t("，并上传一张图")],-1)),s[8]||(s[8]=e("p",null,[t("然后点击"),e("code",null,"Interrogate DeepBooru"),t("按钮，进行下载deepbooru依赖文件和提取tag操作")],-1)),s[9]||(s[9]=e("blockquote",null,[e("p",null,"如果显示报错，请科学上网"),e("p",null,"文件还挺大的，没科学很容易报错，但还是浪费了将近1G的流量"),e("p",null,"不安装CUDA启用该功能，将使用CPU进行提取tag"),e("p",null,[t("需要添加环境变量，详情查看: "),e("a",{href:"https://www.tensorflow.org/install/gpu#windows_setup",target:"_blank",rel:"noreferrer"},"https://www.tensorflow.org/install/gpu#windows_setup")]),e("p",null,[t("提供了deepbooru的依赖文件: "),e("a",{href:"https://pan.baidu.com/s/1vtIuF9Av0M1rk_Ei1ABcEA?pwd=ubqx",target:"_blank",rel:"noreferrer"},"https://pan.baidu.com/s/1vtIuF9Av0M1rk_Ei1ABcEA?pwd=ubqx")]),e("p",null,"该压缩包内的文件放入models文件夹中的deepbooru文件夹内")],-1)),s[10]||(s[10]=e("h2",{id:"下载cudnn依赖",tabindex:"-1"},[t("下载cudnn依赖 "),e("a",{class:"header-anchor",href:"#下载cudnn依赖","aria-label":'Permalink to "下载cudnn依赖"'},"​")],-1)),s[11]||(s[11]=e("p",null,[t("将网盘内的"),e("code",null,"tools.7z"),t("和"),e("code",null,"cuda文件.7z"),t("下载到电脑")],-1)),s[12]||(s[12]=e("p",null,"tools.7z解压后按照文档添加环境变量，cuda文件.7z解压后按照txt文档放到相应位置",-1)),s[13]||(s[13]=e("p",null,"以上文件都更新在NovelAI文件夹中",-1)),s[14]||(s[14]=e("h2",{id:"提取tag",tabindex:"-1"},[t("提取tag "),e("a",{class:"header-anchor",href:"#提取tag","aria-label":'Permalink to "提取tag"'},"​")],-1)),s[15]||(s[15]=e("p",null,"以上操作完成，tag会提取放入prompt填写框内",-1)),s[16]||(s[16]=e("h2",{id:"后谈",tabindex:"-1"},[t("后谈 "),e("a",{class:"header-anchor",href:"#后谈","aria-label":'Permalink to "后谈"'},"​")],-1)),s[17]||(s[17]=e("p",null,"用这个提取的tag生成的图片，多多少少和原图有差异，这个差异视模型和训练集变化",-1)),s[18]||(s[18]=e("p",null,"同时，deepbooru也参与模型训练",-1)),s[19]||(s[19]=e("p",null,"说实话，这个是真的麻烦，也试过另一个tag提取功能，但很不幸的是，直接报错。所以不要浪费空间和流量去下载文件依赖",-1))]),"main-header":a(()=>[n(l.$slots,"main-header")]),"main-header-after":a(()=>[n(l.$slots,"main-header-after")]),"main-nav":a(()=>[n(l.$slots,"main-nav")]),"main-content-before":a(()=>[n(l.$slots,"main-content-before")]),"main-content":a(()=>[n(l.$slots,"main-content")]),"main-content-after":a(()=>[n(l.$slots,"main-content-after")]),"main-nav-before":a(()=>[n(l.$slots,"main-nav-before")]),"main-nav-after":a(()=>[n(l.$slots,"main-nav-after")]),comment:a(()=>[n(l.$slots,"comment")]),footer:a(()=>[n(l.$slots,"footer")]),aside:a(()=>[n(l.$slots,"aside")]),"aside-custom":a(()=>[n(l.$slots,"aside-custom")]),default:a(()=>[n(l.$slots,"default")]),_:3},8,["frontmatter"])}}};export{G as default,A as usePageData};
