import{_ as h}from"./ValaxyMain.vue_vue_type_style_index_0_lang.BEwKRJRT.js";import"./chunks/@vueuse/motion.9EU7dIeG.js";import{f,u as g,a as c}from"./chunks/vue-router.bk4UmuJy.js";import{aa as v,al as e,ad as n,ae as t,W as o,a9 as F,ai as s,F as y,ab as C,Z as w}from"./framework.BJHX8G_O.js";import"./app.3CbOrYDD.js";import"./chunks/dayjs.BdcnXKr1.js";import"./chunks/vue-i18n.zgqw_MSH.js";import"./chunks/pinia.CkUdt-k2.js";import"./chunks/nprogress.BUJ8z3Mp.js";/* empty css                    */import"./YunComment.vue_vue_type_style_index_0_lang.CZIr_Guj.js";import"./index.C5okkQwF.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang.CxkmJdb4.js";import"./post.BsZGShSP.js";const B={class:"tip custom-block"},P={class:"custom-block-title custom-block-title-default"},x={class:"tip custom-block"},$={class:"custom-block-title custom-block-title-default"},q={class:"warning custom-block"},E={class:"custom-block-title custom-block-title-default"},T={class:"tip custom-block"},X={class:"custom-block-title custom-block-title-default"},A=f("/posts/tech/lyq",async r=>JSON.parse('{"title":"小米路由器4A千兆版刷机openwrt(含刷回官方)","description":"","frontmatter":{"title":"小米路由器4A千兆版刷机openwrt(含刷回官方)","categories":"折腾日记","tags":["杂项","路由器","折腾教程"],"cover":"https://i0.hdslb.com/bfs/article/3f5802268684460a5b71e0731b863983381745966.jpg","date":"2022-11-28 16:00:00 +8","updated":"2024-02-15 15:00:00 +8"},"headers":[],"relativePath":"pages/posts/tech/lyq.md","lastUpdated":1762005290000}'),{lazy:(r,p)=>r.name===p.name}),M={__name:"lyq",setup(r,{expose:p}){const{data:u}=A(),b=c(),m=g(),d=Object.assign(m.meta.frontmatter||{},u.value?.frontmatter||{});return b.currentRoute.value.data=u.value,w("valaxy:frontmatter",d),globalThis.$frontmatter=d,p({frontmatter:{title:"小米路由器4A千兆版刷机openwrt(含刷回官方)",categories:"折腾日记",tags:["杂项","路由器","折腾教程"],cover:"https://i0.hdslb.com/bfs/article/3f5802268684460a5b71e0731b863983381745966.jpg",date:"2022-11-28 16:00:00 +8",updated:"2024-02-15 15:00:00 +8"}}),(i,l)=>{const a=F("VT"),k=h;return C(),v(k,{frontmatter:y(d)},{"main-content-md":e(()=>[t("div",B,[t("p",P,[l[0]||(l[0]=t("i",{class:"icon i-arcticons-pixel-tips"},null,-1)),o(a,{content:"blocks.tip"})]),l[1]||(l[1]=t("p",null,"参考文档:",-1)),l[2]||(l[2]=t("p",null,[t("a",{href:"https://www.right.com.cn/forum/thread-4317222-1-1.html",target:"_blank",rel:"noreferrer"},"小米路由器4A千兆版刷Padavan(WIN10刷,含刷死救砖)")],-1)),l[3]||(l[3]=t("p",null,[t("a",{href:"https://www.right.com.cn/forum/thread-4102208-1-1.html",target:"_blank",rel:"noreferrer"},"论坛收集的几个小米路由器官方bootloader")],-1)),l[4]||(l[4]=t("p",null,[t("a",{href:"https://blog.csdn.net/qq_43206901/article/details/119106511",target:"_blank",rel:"noreferrer"},"小米路由器R4A(千兆版)固件刷opewrt、刷官方固件")],-1)),l[5]||(l[5]=t("p",null,[t("a",{href:"https://blog.w2aa.ga/post/220724breed.html",target:"_blank",rel:"noreferrer"},"2022-07-24更新的Breed使用说明")],-1)),l[6]||(l[6]=t("p",null,[s("breed下载: "),t("a",{href:"https://breed.hackpascal.net",target:"_blank",rel:"noreferrer"},"点此跳转下载")],-1)),l[7]||(l[7]=t("blockquote",null,[t("p",null,"小米路由器使用的两种breed："),t("p",null,"breed-mt7621-pbr-m1.bin"),t("p",null,"breed-mt7621-xiaomi-r3g.bin")],-1))]),l[14]||(l[14]=t("h2",{id:"准备",tabindex:"-1"},[s("准备 "),t("a",{class:"header-anchor",href:"#准备","aria-label":'Permalink to "准备"'},"​")],-1)),t("div",x,[t("p",$,[l[8]||(l[8]=t("i",{class:"icon i-arcticons-pixel-tips"},null,-1)),o(a,{content:"blocks.tip"})]),l[9]||(l[9]=t("p",null,"需要Python环境",-1))]),l[15]||(l[15]=t("h3",{id:"工具",tabindex:"-1"},[s("工具 "),t("a",{class:"header-anchor",href:"#工具","aria-label":'Permalink to "工具"'},"​")],-1)),l[16]||(l[16]=t("ul",null,[t("li",null,"breed"),t("li",null,"WinSCP"),t("li",null,"PuTTY"),t("li",null,"官方修复工具")],-1)),l[17]||(l[17]=t("h3",{id:"文件",tabindex:"-1"},[s("文件 "),t("a",{class:"header-anchor",href:"#文件","aria-label":'Permalink to "文件"'},"​")],-1)),l[18]||(l[18]=t("ul",null,[t("li",null,"官方bootloader"),t("li",null,"breed-mt7621-pbr-m1.bin"),t("li",null,"路由器对应型号的任意openwrt固件"),t("li",null,"官方固件")],-1)),l[19]||(l[19]=t("h2",{id:"刷机",tabindex:"-1"},[s("刷机 "),t("a",{class:"header-anchor",href:"#刷机","aria-label":'Permalink to "刷机"'},"​")],-1)),l[20]||(l[20]=t("h3",{id:"获取root权限",tabindex:"-1"},[s("获取root权限 "),t("a",{class:"header-anchor",href:"#获取root权限","aria-label":'Permalink to "获取root权限"'},"​")],-1)),l[21]||(l[21]=t("p",null,"任意位置打开powershell，输入以下命令",-1)),l[22]||(l[22]=t("div",{class:"vp-code-block-title"},[t("div",{class:"vp-code-block-title-bar"},[t("span",{class:"vp-code-block-title-text","data-title":"shell"},"shell")]),t("div",{class:"language-shell max-h-200px line-numbers-mode"},[t("button",{title:"Copy code",class:"copy"}),t("span",{class:"lang"},"shell"),t("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[t("code",{"v-pre":""},[t("span",{class:"line"},[t("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"git"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," clone"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," https://github.com/acecilia/OpenWRTInvasion.git")]),s(`
`),t("span",{class:"line"},[t("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"cd"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," OpenWRTInvasion")]),s(`
`),t("span",{class:"line"},[t("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"pip3"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," install"),t("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -r"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," requirements.txt")])])]),t("button",{class:"code-block-unfold-btn"}),t("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br"),t("span",{class:"line-number"},"3"),t("br")])])],-1)),l[23]||(l[23]=t("blockquote",null,[t("p",null,"如果没有安装Git，可以到GitHub下载源代码")],-1)),l[24]||(l[24]=t("p",null,"下载完成，运行",-1)),l[25]||(l[25]=t("div",{class:"vp-code-block-title"},[t("div",{class:"vp-code-block-title-bar"},[t("span",{class:"vp-code-block-title-text","data-title":"shell"},"shell")]),t("div",{class:"language-shell max-h-200px line-numbers-mode"},[t("button",{title:"Copy code",class:"copy"}),t("span",{class:"lang"},"shell"),t("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[t("code",{"v-pre":""},[t("span",{class:"line"},[t("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"python"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," remote_command_execution_vulnerability.py")])])]),t("button",{class:"code-block-unfold-btn"}),t("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[t("span",{class:"line-number"},"1"),t("br")])])],-1)),l[26]||(l[26]=t("p",null,"输入IP(默认为192.168.31.1)，回车后再输入stok值",-1)),l[27]||(l[27]=t("blockquote",null,[t("p",null,[s("stok值为路由器管理后台链接中的"),t("code",null,"stok="),s("后面的部分"),t("code",null,"(stok=XXXXXXXXXX)")])],-1)),l[28]||(l[28]=t("p",null,[s("使用PuTTY连接路由器"),t("code",null,"(电脑需要打开telnet功能)")],-1)),l[29]||(l[29]=t("blockquote",null,[t("p",null,"IP address: 192.168.31.1"),t("p",null,"port: 23"),t("p",null,"type: Other(telnet)")],-1)),l[30]||(l[30]=t("p",null,"连接成功后输入root获取权限",-1)),l[31]||(l[31]=t("h3",{id:"刷入breed",tabindex:"-1"},[s("刷入breed "),t("a",{class:"header-anchor",href:"#刷入breed","aria-label":'Permalink to "刷入breed"'},"​")],-1)),l[32]||(l[32]=t("p",null,[s("用WinSCP登入路由，ftp协议，ip地址192.168.31.1，账号root密码空，把"),t("code",null,"breed-mt7621-pbr-m1.bin"),s("文件上传到tmp文件夹内")],-1)),l[33]||(l[33]=t("p",null,"之后执行",-1)),l[34]||(l[34]=t("div",{class:"vp-code-block-title"},[t("div",{class:"vp-code-block-title-bar"},[t("span",{class:"vp-code-block-title-text","data-title":"shell"},"shell")]),t("div",{class:"language-shell max-h-200px line-numbers-mode"},[t("button",{title:"Copy code",class:"copy"}),t("span",{class:"lang"},"shell"),t("pre",{class:"shiki shiki-themes github-light github-dark vp-code"},[t("code",{"v-pre":""},[t("span",{class:"line"},[t("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"cd"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," /tmp")]),s(`
`),t("span",{class:"line"},[t("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"mtd"),t("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," -r"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," write"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," breed-mt7621-pbr-m1.bin"),t("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," Bootloader")])])]),t("button",{class:"code-block-unfold-btn"}),t("div",{class:"line-numbers-wrapper","aria-hidden":"true"},[t("span",{class:"line-number"},"1"),t("br"),t("span",{class:"line-number"},"2"),t("br")])])],-1)),l[35]||(l[35]=t("h3",{id:"刷入openwrt",tabindex:"-1"},[s("刷入openwrt "),t("a",{class:"header-anchor",href:"#刷入openwrt","aria-label":'Permalink to "刷入openwrt"'},"​")],-1)),t("div",q,[t("p",E,[l[10]||(l[10]=t("i",{class:"icon i-carbon-warning-alt"},null,-1)),o(a,{content:"blocks.warning"})]),l[11]||(l[11]=t("p",null,"路由器断开外网",-1))]),l[36]||(l[36]=t("p",null,"断开路由器电源，按住reset按钮，通电，三秒后松开，进入恢复后台192.168.1.1，备份eeprom和固件，截图mac地址（变砖后恢复会用到）。",-1)),l[37]||(l[37]=t("p",null,"勾选固件，然后将小米4A的固件文件进行上传，然后完成固件更新流程。更新过程请不要切断路由电源！更新完成后, 页面并不会自动刷新, 自己尝试能否进入路由配置页面。",-1)),t("div",T,[t("p",X,[l[12]||(l[12]=t("i",{class:"icon i-arcticons-pixel-tips"},null,-1)),o(a,{content:"blocks.tip"})]),l[13]||(l[13]=t("p",null,"建议百度查找一下openwrt应该刷入到哪个分区，否则容易卡开机",-1))]),l[38]||(l[38]=t("h2",{id:"恢复官方固件",tabindex:"-1"},[s("恢复官方固件 "),t("a",{class:"header-anchor",href:"#恢复官方固件","aria-label":'Permalink to "恢复官方固件"'},"​")],-1)),l[39]||(l[39]=t("p",null,"进入breed界面，刷入官方bootloader，重启后使用官方修复工具刷入官方固件",-1)),l[40]||(l[40]=t("p",null,"等待重新启动完成即可",-1))]),"main-header":e(()=>[n(i.$slots,"main-header")]),"main-header-after":e(()=>[n(i.$slots,"main-header-after")]),"main-nav":e(()=>[n(i.$slots,"main-nav")]),"main-content-before":e(()=>[n(i.$slots,"main-content-before")]),"main-content":e(()=>[n(i.$slots,"main-content")]),"main-content-after":e(()=>[n(i.$slots,"main-content-after")]),"main-nav-before":e(()=>[n(i.$slots,"main-nav-before")]),"main-nav-after":e(()=>[n(i.$slots,"main-nav-after")]),comment:e(()=>[n(i.$slots,"comment")]),footer:e(()=>[n(i.$slots,"footer")]),aside:e(()=>[n(i.$slots,"aside")]),"aside-custom":e(()=>[n(i.$slots,"aside-custom")]),default:e(()=>[n(i.$slots,"default")]),_:3},8,["frontmatter"])}}};export{M as default,A as usePageData};
