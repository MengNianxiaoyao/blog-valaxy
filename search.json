[{"title":"【个人博客网站】从零开始搭建博客网站（一）：本地配置","tags":["文档","博客教程"],"categories":["博客","搭建教程"],"author":"","excerpt":"\n::: tip\n\n本篇教程为网站重建后重写\n\n以Hexo框架以及Butterfly主题为例\n\n:::\n\n## 环境配置\n\n### 工具下载\n\n#### Git\n\n进入[Git官网](https://","link":"/posts/boke/boke1","content":"\n::: tip\n\n本篇教程为网站重建后重写\n\n以Hexo框架以及Butterfly主题为例\n\n:::\n\n## 环境配置\n\n### 工具下载\n\n#### Git\n\n进入[Git官网](https://git-scm.com/)，下载好Git\n\n#### Node.js\n\n进入[Node.js官网](https://nodejs.org/en/download/)下载Node.js，也可进入[中文站](http://nodejs.cn/download/)下载Node.js\n\n#### VSCode\n\n进入[VSCode官网](https://code.visualstudio.com/)，下载VSCode\n\n#### Hexo脚手架安装\n\n新建文件夹，VSCode中打开，打开终端输入以下命令\n\n```shell [npm]\nnpm install -g hexo-cli\n```\n\n## Hexo本地配置\n\n### Hexo安装\n\nVSCode中在打开的项目文件夹中，输入以下命令\n\n```shell [shell]\nhexo init\n```\n\n下载依赖\n\n```shell [shell]\nnpm install\n```\n\n### Butterfly主题安装\n\n#### 稳定版【推荐】\n\n在你的 Hexo 根目录里\n\n::: code-group\n\n```shell [git]\nGitHub: git clone -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly\n或\nGitee: git clone -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly\n```\n\n```shell [npm]\nnpm i hexo-theme-butterfly\n```\n\n:::\n\n::: warning\n\nnpm 安装只支持 Hexo 5.0.0 以上版本\n\n通过 npm 安装并不会在 themes 里生成主题文件夹，而是在 node_modules 里生成\n\n:::\n\n::: tip\n\nnpm 安装升级方法：在主题目录下，运行`npm update hexo-theme-butterfly`\n\n:::\n\n#### 测试版\n\n::: warning\n\n测试版可能存在 bug，追求稳定的请安装稳定版\n\n:::\n\n如果想要安装比较新的 dev 分支，可以\n\n```shell [git]\nGitHub: git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly\n或\nGitee: git clone -b dev https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly\n```\n\n::: tip\n\n升级方法:在主题目录下，运行`git pull`\n\n:::\n\n### 安装插件\n\n```shell [npm]\nnpm install\n\nnpm install hexo-renderer-pug hexo-renderer-stylus --save\n\nnpm install hexo-deployer-git --save\n```\n\n### 主题修改\n\n修改根目录下的`_config.yml`，把主题改为`butterfly`\n\n```yml [_config.yml]\ntheme: butterfly\n```\n\n### 建议\n\n在根目录创建一个文件`_config.butterfly.yml`，并把主题目录的`_config.yml`内容复制到`_config.butterfly.yml`去。(注意: 复制的是主题的`_config.yml`,而不是hexo的`_config.yml`)\n"},{"title":"【个人博客网站】从零开始搭建博客网站（二）：博客部署","tags":["文档","博客教程"],"categories":["博客","搭建教程"],"author":"","excerpt":"\r\n## 注册GitHub账号\r\n\r\n进入[GitHub](https://github.com)官网，注册账号\r\n\r\n## 获取SSH\r\n\r\n打开`Git bash`\r\n\r\n依次输入以下命令\r\n\r\n","link":"/posts/boke/boke2","content":"\r\n## 注册GitHub账号\r\n\r\n进入[GitHub](https://github.com)官网，注册账号\r\n\r\n## 获取SSH\r\n\r\n打开`Git bash`\r\n\r\n依次输入以下命令\r\n\r\n```shell [shell]\r\ngit config --global user.name \"your username\"\r\n\r\ngit config --global user.email \"your useremail\"\r\n\r\nssh-keygen -t rsa -C \"your useremail\"\r\n```\r\n\r\n电脑打开`C:\\Users\\your username`，找到`.ssh`文件夹\r\n\r\n打开后缀名为`.pub`的文件，复制文件内的全部内容。\r\n\r\n粘贴到GitHub设置菜单下的ssh菜单，创建一个`New SSH key`，将复制的内容粘贴进去即可\r\n\r\n## 使用Github部署\r\n\r\n### 新建项目仓库\r\n\r\n进入GitHub个人仓库界面(`https://github.com/yourusername`)，点击右上角个人头像旁的加号，选择`New repository`\r\n\r\n`Repository name`填`yourusername.github.io`\r\n\r\n勾选`Private`\r\n\r\n点击`Create repository`\r\n\r\n新建的项目仓库`Code`界面，点击绿色的`Code`按钮，复制HTTPS下的链接\r\n\r\n### VSCode上传\r\n\r\nVSCocde登录GitHub账号，打开项目\r\n\r\n打开根目录的`_config.yml`，修改内容\r\n\r\n```yml [_config.yml]\r\ndeploy:\r\n  type: git\r\n  repository: 项目仓库的HTTPS链接\r\n  branch: main\r\n```\r\n\r\n终端控制台输入命令\r\n\r\n```shell [shell]\r\nhexo cl\r\n\r\nhexo g\r\n\r\nhexo de\r\n```\r\n\r\n::: tip\r\n\r\n上传到GitHub后，GitHub会自动部署\r\n\r\n:::\r\n\r\n## 使用Vercel部署\r\n\r\n打开[Vercel](https://vercel.com)官网，使用GitHub账号登录\r\n\r\n在`dashboard`界面，点击`Add New`，选择`Project`\r\n\r\n在`Import Git Repository`中选择博客项目，点击`Import`\r\n\r\n`PROJECT NAME`任君意，点击`Depoly`\r\n\r\n稍等片刻部署完成\r\n::: warning\r\n\r\nVercel目前项目默认域名被墙，请将域名更改成自定义域名\r\n\r\n:::\r\n\r\n## 使用Cloudflare部署\r\n\r\n打开[Cloudflare](https://dash.cloudflare.com/login)官网，注册账号\r\n\r\n在`Pages`界面，点击`创建项目`，选择`连接到Git`\r\n\r\n将GitHub账号添加进去，选择博客项目的存储库，点击`开始设置`\r\n\r\n::: warning\r\n\r\n如果未显示您的存储库，请在 GitHub 上为 Cloudflare Pages 应用配置存储库访问权限。\r\n\r\n:::\r\n\r\n什么都别动，点击`保存并部署`\r\n\r\n等待几分钟完成部署\r\n\r\n## 部署方案讲解\r\n\r\n### GitHub部署\r\n\r\nGitHub部署是最容易的，视网络条件，有可能是三种部署方案中访问速度最慢的，项目仓库名按照格式写，将博客文件Deploy后，GitHub就会自动部署\r\n\r\n### Vercel部署\r\n\r\nVercel部署后，网站打开的速度是三种里最快的(当然，这是在默认设置中的比较)，每天有100次部署，当GitHub有相应分支的提交就会自动拉取部署\r\n\r\n### Cloudflare部署\r\n\r\nCloudflare部署后，网站的访问速度可能是三种里的中等水平，但不限量的DDOS抵御流量还是很香的(要将域名的DNS服务器更换成Cloudfare提供的DNS服务器，相当于把访问速度换成了DDOS抵御流量)，也是当GitHub有相应分支的提交就会自动拉取部署\r\n\r\n> 三种部署方案任君意，都是可添加自定义域的，如果觉得访问速度慢，使用国内的DNS服务也是可以的\r\n"},{"title":"【个人博客网站】从零开始搭建博客网站（三）：安装后台插件","tags":["文档","博客教程"],"categories":["博客","搭建教程"],"author":"","excerpt":"\n## 说明\n\n本篇是可选操作教程，为安装Hexo的后台，可方便服务器写文操作\n\n::: tip\n\n前提条件：完成前面两篇的全部操作\n\n:::\n\n## 安装后台插件\n\n终端输入\n\n```shell [","link":"/posts/boke/boke3","content":"\n## 说明\n\n本篇是可选操作教程，为安装Hexo的后台，可方便服务器写文操作\n\n::: tip\n\n前提条件：完成前面两篇的全部操作\n\n:::\n\n## 安装后台插件\n\n终端输入\n\n```shell [npm]\nnpm install hexo-admin\n```\n\n## 新建\n\n### _admin-config.yml\n\n在`Hexo`的根目录，创建一个`_admin-config.yml`文件\n\n### hexo -deploy.sh\n\n在`Hexo`的根目录，创建一个`hexo -deploy.sh`文件\n\n```shell [shell]\n#!/usr/bin/env sh\nhexo g\nhexo de\n```\n\n## 进入后台\n\n终端运行`hexo server`命令后，网址输入`博客域名 + /admin`即可访问\n"},{"title":"【个人博客网站】从零开始搭建博客网站（四）：使用GitHub Actions自动构建博客","tags":["文档","博客教程"],"categories":["博客","搭建教程"],"author":"","excerpt":"\n> 本篇是可选操作教程\n\n::: tip\n\n参考文档: [hexo配合github action 自动构建（多种形式）](https://blog.csdn.net/sinat_16395609/a","link":"/posts/boke/boke4","content":"\n> 本篇是可选操作教程\n\n::: tip\n\n参考文档: [hexo配合github action 自动构建（多种形式）](https://blog.csdn.net/sinat_16395609/article/details/120806098)\n\n:::\n\n## 获取ssh密钥\n\n在第二篇博客[【个人博客网站】从零开发博客网站（二）](https://blog.mnxyio.top/posts/boke2)中，已经写过如何获取密钥，故这里不再赘述。\n\n私钥为`id_rsa`文件，公钥为`id_rsa.pub`文件`(如果是命名过密钥名，公私钥的文件名则为自己命名的名字)`\n\n## 部署密钥\n\n### 部署私钥\n\n博客项目仓库 -> settings -> Secrets -> Actions\n\n点击`New repository secret`，Name填`HEXO_DEPLOY_PRI`，Secret填`私钥文件里的内容`\n\n### 部署公钥\n\n#### 不同仓库\n\n如果你没新建仓库的话，请新建仓库（新建过了请忽略），然后上传公钥。\n\n目的仓库（新建仓库） -> settings -> Deploy keys\n\n点击`add deploy key`，title填`HEXO_DEPLOY_PUB`，key填`公钥文件里的内容`，并给读写权限\n\n#### 相同仓库\n\n如果你想部署到和博客项目相同的仓库，请新建一个分支，公钥上传和上一步一样。这里需要注意的是，这种方式必须公开仓库，如果仓库内有不能公开的内容，请使用前一种方式\n\n## 配置Github Actions\n\n在hexo的根目录，创建`.github/workflows/hexo-cl.yml`，修改`blog_source_branch`、`'your username'`、`'your useremail'`为自己的\n\n```yml [hexo-cl.yml]\nname: HEXO CI\n\non:\n  push:\n    branches:\n    - blog_source_branch\n\njobs:\n  build:\n    runs-on: ubuntu-latest\n    strategy:\n      matrix:\n        node-version: [14.x]\n\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Use Node.js ${{ matrix.node-version }}\n        uses: actions/setup-node@v1\n        with:\n          node-version: ${{ matrix.node-version }}\n\n      - name: Configuration environment\n        env:\n          HEXO_DEPLOY_PRI: ${{secrets.HEXO_DEPLOY_PRI}}\n        run: |\n          mkdir -p ~/.ssh/\n          echo \"$HEXO_DEPLOY_PRI\" > ~/.ssh/id_rsa\n          chmod 600 ~/.ssh/id_rsa\n          ssh-keyscan github.com >> ~/.ssh/known_hosts\n          git config --global user.name 'your username'\n          git config --global user.email 'your useremail'\n      - name: Install dependencies\n        run: |\n          npm i -g hexo-cli\n          npm i\n      - name: Deploy hexo\n        run: |\n          hexo clean && hexo generate && gulp && hexo deploy\n```\n\n## 配置Hexo deploy\n\n打开`_config.yml`，将Git仓库从https形式修改成ssh形式\n\n```yml [_config.yml]\ndeploy:\n- type: git\n  repository: git@github.com:MengNianxiaoyao/MengNianxiaoyao.github.io.git\n  #example, https://github.com/MengNianxiaoyao/MengNianxiaoyao.github.io.git\n  branch: master\n```\n\n## 推送\n\n将代码推送后，GitHub Actions会自动完成构建\n"},{"title":"【个人博客网站】从零开始搭建博客网站（五）：使用Resend配置评论送信","tags":["文档","博客教程"],"categories":["博客","搭建教程"],"author":"","excerpt":"\n## 前言\n\n在[白嫖永久无限可收发邮箱](https://blog.mnxyio.top/posts/tech/email)中，提到了利用Gmail的smtp可以使用自定义域名作为发信邮箱。因此，","link":"/posts/boke/boke5","content":"\n## 前言\n\n在[白嫖永久无限可收发邮箱](https://blog.mnxyio.top/posts/tech/email)中，提到了利用Gmail的smtp可以使用自定义域名作为发信邮箱。因此，可以作为博客的评论提醒的送信邮箱。但，也是有缺点的。比如说\n\n![Clip_2024-07-09_20-43-35](https://i0.hdslb.com/bfs/article/267d70c003b24ea88b80fd61513af0dd381745966.png)\n\n## DKIM\n\nDKIM（DomainKeys Identified Mail）是一种电子邮件验证方法，用于帮助检测电子邮件中的伪造和篡改行为，以此来提高邮件的安全性和信任度。这种技术允许发件人通过使用数字签名来证明邮件确实是由其声称的发件域名所发送，并且邮件的内容没有在传输过程中被篡改。\n\n## Resend\n\n想要使用Gmail的DKIM，必须有 [Google 管理员账户](http://admin.google.com/)（当然，这是收费的）。为了贯彻白嫖精神，我们选择[Resend](https://resend.com/)。Resend免费套餐中，可以添加一个域名、每天100发件、每月3000发件的限额，足够博客使用了。\n\n### 注册\n\n来到官网，我们直接使用GitHub账号登录。\n\n### 添加域名\n\n侧边栏 -> Domains，点击`Add Domain`\n\n![Clip_2024-07-09_20-52-49](https://i0.hdslb.com/bfs/article/a14285f238d3b09f55a5276ed51bd848381745966.png)\n\n### 添加DNS记录\n\n> 以Cloudflare为例\n\n我们需要将Resend提供的DNS记录添加进DNS服务中，这里只需要添加`DKIM and SPF`部分\n\n![Clip_2024-07-09_20-55-54](https://i0.hdslb.com/bfs/article/55b93e950023da5c6474fe88f9e46671381745966.png)\n\n::: warning\n\n注意，`_domainkey`部分需要在`DMARC 管理`中添加\n\n电子邮件 -> DMARC 管理\n\n![Clip_2024-07-09_20-59-54](https://i0.hdslb.com/bfs/article/c5d5f2e270e9bdbd45d425070af5774c381745966.png)\n\n因Resend提供的公钥并不完全，缺少加密类型部分，将其补全。如上如图，仅替换p=xxxx即可\n\n:::\n\n回到Resend，进行DNS记录检查，全部状态为`verified`\n\n> 可使用[MX Tools](https://mxtoolbox.com/dmarc.aspx)检查DMARC是否正常\n\n### 配置评论发信\n\nResend侧边栏 -> API Keys -> Create API Key，创建一个具有完全访问权限的密钥\n\n![Clip_2024-07-09_21-14-08](https://i0.hdslb.com/bfs/article/8547a1e36c5908a832754165f62c4c90381745966.png)\n\nResend侧边栏 -> Settings -> SMTP，获取SMTP需要的配置\n\n![Clip_2024-07-09_21-16-05](https://i0.hdslb.com/bfs/article/c7aa842cc643d59d93651df88742283f381745966.png)\n\n> 以[Twikoo](https://twikoo.js.org)为例\n\n将这些填入Twikoo相应的位置\n\n![Clip_2024-07-09_21-17-09](https://i0.hdslb.com/bfs/article/be6ce3fb96c570d232342946f2b9629c381745966.png)\n\n测试是否能发送，日志中出现`accepted`即为成功\n"},{"title":"【个人博客网站】自动化友链申请、状态检测、信息修改","tags":["文档","友链"],"categories":["博客","友链"],"author":"","excerpt":"\n::: tip\n\n项目地址: [梦念逍遥の友链](https://github.com/MengNianxiaoyao/friends)\n\n:::\n\n本项目参考[云游君的小伙伴们](https://","link":"/posts/boke/friends","content":"\n::: tip\n\n项目地址: [梦念逍遥の友链](https://github.com/MengNianxiaoyao/friends)\n\n:::\n\n本项目参考[云游君的小伙伴们](https://github.com/YunYouJun/friends)，进行了全方位的修改，可以使用 issue 进行自动化友链添加、删除、信息修改，每周自动检测链接状态并根据状态给 issue 添加标签。\n\n## 友链添加与删除\n\n当按照模板创建一个新的 issue 后，会触发 workflow 并根据 [script/add.ts](https://github.com/MengNianxiaoyao/friends/blob/main/scripts/add.ts) 中的代码进行处理 issue 中的内容。链接正常访问会添加 active 标签然后放入 [links/links.yml](https://github.com/MengNianxiaoyao/friends/blob/main/links/links.yml) 中，无法访问则会添加 404 标签且会放入 [links/away.yml](https://github.com/MengNianxiaoyao/friends/blob/main/links/away.yml) 中。issue 关闭后，则自动 根据 [script/add.ts](https://github.com/MengNianxiaoyao/friends/blob/main/scripts/add.ts) 中的代码进行链接删除。\n\n## 信息修改\n\n直接修改 issue 中的内容，会自动根据 [script/add.ts](https://github.com/MengNianxiaoyao/friends/blob/main/scripts/add.ts) 中的代码进行处理替换相关信息。链接更新则需要关闭当前 issue，然后重新创建基于新链接的 issue。\n\n## 自动检测链接状态\n\n[script/check.ts](https://github.com/MengNianxiaoyao/friends/blob/main/scripts/check.ts) 中的代码则是自动检测链接状态的。每周五早上5点会自动运行 workflow，然后检测 [links/away.yml](https://github.com/MengNianxiaoyao/friends/blob/main/links/away.yml) 和 [links/links.yml](https://github.com/MengNianxiaoyao/friends/blob/main/links/links.yml) 中的链接，根据链接状态进行相应的标签修改和链接更新。\n"},{"title":"【白夜极光】免加速游戏教程，使用直连速度起飞","tags":["视频"],"categories":["白夜极光"],"author":"","excerpt":"\n<iframe src=\"//player.bilibili.com/player.html?aid=514478015&bvid=BV1rg411k7CZ&cid=803453532&page=1","link":"/posts/byjg/byjg1","content":"\n<iframe src=\"//player.bilibili.com/player.html?aid=514478015&bvid=BV1rg411k7CZ&cid=803453532&page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" width=\"100%\" height=\"500px\"></iframe>\n"},{"title":"【白夜极光】启动器反向代理搭建教程","tags":["视频"],"categories":["白夜极光"],"author":"","excerpt":"\n> 项目地址：<https://github.com/MengNianxiaoyao/AlchemyStarsLauncher>\n\n::: tip 说明\n\n时间截止到9月14日，4.7版本的启动器已","link":"/posts/byjg/byjg2","content":"\n> 项目地址：<https://github.com/MengNianxiaoyao/AlchemyStarsLauncher>\n\n::: tip 说明\n\n时间截止到9月14日，4.7版本的启动器已无需反向代理\n\n4.6版本的依旧可以使用\n\n:::\n\n<iframe src=\"//player.bilibili.com/player.html?aid=259479277&bvid=BV1Ka411Z7nz&cid=803492630&page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" width=\"100%\" height=\"500px\"></iframe>\n"},{"title":"【白夜极光】Celestite - 第三方DMM Game Player","tags":["视频"],"categories":["白夜极光"],"author":"","excerpt":"\n<iframe src=\"//player.bilibili.com/player.html?bvid=BV15g411h7YV&page=1\" scrolling=\"no\" border=\"0\" ","link":"/posts/byjg/byjg3","content":"\n<iframe src=\"//player.bilibili.com/player.html?bvid=BV15g411h7YV&page=1\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\" width=\"100%\" height=\"500px\"></iframe>\n"},{"title":"Novelai双版本部署整合教程","tags":["Novelai","文档","AI教程"],"categories":["AI教程"],"author":"","excerpt":"\n::: info NovalAI\n\n- [stable-diffusion-webui](https://pan.baidu.com/s/11lSlP9YJXYRZh5j7_kBAjw?pwd=s4","link":"/posts/novelai/novelai","content":"\n::: info NovalAI\n\n- [stable-diffusion-webui](https://pan.baidu.com/s/11lSlP9YJXYRZh5j7_kBAjw?pwd=s4vy)\n- [novel-naifu](https://pan.baidu.com/s/11lSlP9YJXYRZh5j7_kBAjw?pwd=s4vy)\n\n:::\n\n> TAG库及其他工具: <https://pan.baidu.com/s/11lSlP9YJXYRZh5j7_kBAjw?pwd=s4vy>\n>\n> 模型: <https://pan.xunlei.com/s/VNEJ8E2vTcrGyzojEWIxj22yA1?pwd=quzm#>\n\n## 闲聊\n\n最近b站疯传novelai官网的泄露版程序，我也沉迷其中无法自拔，然后。。。就鸽了。\n\n## 本地部署\n\n版本共两种，随自己心意下载\n\n### stable-diffusion-webui\n\n#### 部署\n\n直接下载，下载完成后解压，安装Git、Python和CUDA，修改`venv`文件夹中`pyvenv.cfg`文件里的Python路径。\n\n如果不知道怎么修改的，删除`venv`文件夹，并安装网盘中的`dev-sidecar`程序，然后开启程序的代理。\n\n之后按照你电脑显卡的配置修改`webui-user.bat`里的配置，双击运行等待依赖下载完成即可。\n\n#### 更新\n\n浏览器打开[项目所在的仓库](https://github.com/AUTOMATIC1111/stable-diffusion-webui)，点击`Code`，下载压缩包\n\n然后解压压缩包，将解压出来的文件全部移动到程序文件夹内，如果弹出同名文件是否替换的弹窗，点击全部更换即可\n\n#### 模型更换\n\n下载模型后，将模型放置到`models` -> `Stable-diffusion`里\n\npt文件需要和模型同名，config文件也是一样，不同名只会加载模型\n\n### novel-naifu\n\n#### 部署\n\n直接下载解压就行，按照显卡配置运行对应的`bat`\n\n#### 模型更换\n\n下载模型后，将模型放置到`models`里新建的一个新文件夹里，然后修改bat文件中模型的路径\n\n## 云端部署\n\n云端部署使用谷歌colab部署，请科学上网并注册谷歌账号\n\n### stable-diffusion-webui\n\n<a class=\"links-of-author-item yun-icon-btn\" rel=\"noopener\" href=\"https://colab.research.google.com/drive/1B34yAn8UyZkwBsv6_JdRif5gVNdqDRxn?usp=sharing\" title=\"stable-diffusion-webui\" target=\"_blank\" style=\"color: rgb(142, 113, 193);\"><div class=\"icon i-ri-download-2-fill\"></div></a>\n\n### novel-naifu\n\n<a class=\"links-of-author-item yun-icon-btn\" rel=\"noopener\" href=\"https://colab.research.google.com/drive/1aeJ0IfWhQ17QyaH21oviOyDJg-l3OClA?usp=sharing\" title=\"novel-naifu\" target=\"_blank\" style=\"color: rgb(142, 113, 193);\"><div class=\"icon i-ri-download-2-fill\"></div></a>\n"},{"title":"【Novelai】新版本支持xformers！降低显卡占用黑科技！","tags":["Novelai","文档","AI教程"],"categories":["AI教程"],"author":"","excerpt":"\r\n## 更新\r\n\r\n前往[GitHub仓库](https://github.com/AUTOMATIC1111/stable-diffusion-webui)，下载最新版代码压缩包；或者使用`git","link":"/posts/novelai/novelai1","content":"\r\n## 更新\r\n\r\n前往[GitHub仓库](https://github.com/AUTOMATIC1111/stable-diffusion-webui)，下载最新版代码压缩包；或者使用`git pull`命令更新\r\n\r\n## 安装xformers\r\n\r\n新版可直接添加xformers安装命令进行安装，按照以下格式添加到`webui-user.bat`文件中\r\n\r\n```shell [shell]\r\n@echo off\r\n\r\nset PYTHON=\r\nset GIT=\r\nset VENV_DIR=\r\nset COMMANDLINE_ARGS=--xformers\r\n\r\ncall webui.bat\r\n```\r\n\r\n::: tip\r\n\r\n如果显示报错，请科学上网\r\n\r\n:::\r\n\r\n## 使用\r\n\r\n安装完成后，会自行启用xformers。经过简陋的测试，同条件下，使用xformers比不使用xformers的显卡占用能降低10%左右，画质也没降低多少。\r\n"},{"title":"【Novelai】快速提取tag，生成美图！","tags":["Novelai","文档","AI教程"],"categories":["AI教程"],"author":"","excerpt":"\r\n> [stable-diffusion-webui下载](https://pan.baidu.com/s/11lSlP9YJXYRZh5j7_kBAjw?pwd=s4vy)\r\n\r\n## 安装dee","link":"/posts/novelai/novelai2","content":"\r\n> [stable-diffusion-webui下载](https://pan.baidu.com/s/11lSlP9YJXYRZh5j7_kBAjw?pwd=s4vy)\r\n\r\n## 安装deepbooru模块\r\n\r\n添加deepbooru安装命令进行安装，按照以下格式添加到`webui-user.bat`文件中\r\n\r\n```shell [shell]\r\n@echo off\r\n\r\nset PYTHON=\r\nset GIT=\r\nset VENV_DIR=\r\nset COMMANDLINE_ARGS=--deepbooru\r\n\r\ncall webui.bat\r\n```\r\n\r\n::: tip\r\n\r\n如果显示报错，请科学上网\r\n\r\n:::\r\n\r\n## 下载deepbooru依赖\r\n\r\n安装deepbooru模块完成后，打开webui网页，选择`img2img`，并上传一张图\r\n\r\n然后点击`Interrogate DeepBooru`按钮，进行下载deepbooru依赖文件和提取tag操作\r\n\r\n> 如果显示报错，请科学上网\r\n>\r\n> 文件还挺大的，没科学很容易报错，但还是浪费了将近1G的流量\r\n>\r\n> 不安装CUDA启用该功能，将使用CPU进行提取tag\r\n>\r\n> 需要添加环境变量，详情查看: <https://www.tensorflow.org/install/gpu#windows_setup>\r\n>\r\n> 提供了deepbooru的依赖文件: <https://pan.baidu.com/s/11lSlP9YJXYRZh5j7_kBAjw?pwd=s4vy>\r\n>\r\n> 该压缩包内的文件放入models文件夹中的deepbooru文件夹内\r\n\r\n## 下载cudnn依赖\r\n\r\n将网盘内的`tools.7z`和`cuda文件.7z`下载到电脑\r\n\r\n`tools.7z`解压后按照文档添加环境变量，`cuda文件.7z`解压后按照txt文档放到相应位置\r\n\r\n以上文件都更新在NovelAI文件夹中\r\n\r\n## 提取tag\r\n\r\n以上操作完成，tag会提取放入prompt填写框内\r\n\r\n## 后谈\r\n\r\n用这个提取的tag生成的图片，多多少少和原图有差异，这个差异视模型和训练集变化\r\n\r\n同时，deepbooru也参与模型训练\r\n\r\n说实话，这个是真的麻烦，也试过另一个tag提取功能，但很不幸的是，直接报错。所以不要浪费空间和流量去下载文件依赖\r\n"},{"title":"【个人博客网站】博客美化——总篇集","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\n::: tip\n\n本篇为美化教程的合集（暂未彻底完成）\n\n:::\n\n## 自定义CSS\n\n> 参考了安知鱼的方案进行修改\n> 原教程[butterfly 重装日记](https://anzhiy.c","link":"/posts/meihua/meihua","content":"\n::: tip\n\n本篇为美化教程的合集（暂未彻底完成）\n\n:::\n\n## 自定义CSS\n\n> 参考了安知鱼的方案进行修改\n> 原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#%E9%85%8D%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89css)\n\n```css [index.css]\n/* 滚动条 */\n::-webkit-scrollbar {\n  width: 8px;\n  height: 8px;\n}\n::-webkit-scrollbar-track {\n  background-color: rgba(73, 177, 245, 0.2);\n  border-radius: 2em;\n}\n::-webkit-scrollbar-thumb {\n  background-color: #49b1f5;\n  background-image: -webkit-linear-gradient(\n    45deg,\n    rgba(255, 255, 255, 0.4) 25%,\n    transparent 25%,\n    transparent 50%,\n    rgba(255, 255, 255, 0.4) 50%,\n    rgba(255, 255, 255, 0.4) 75%,\n    transparent 75%,\n    transparent\n  );\n  border-radius: 2em;\n}\n::-webkit-scrollbar-corner {\n  background-color: transparent;\n}\n::-moz-selection {\n  color: #fff;\n  background-color: #49b1f5;\n}\n  \n/* 音乐播放器 */\n/* .aplayer .aplayer-lrc {\n  display: none !important;\n} */ \n.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {\n  left: -66px !important;\n  transition: all 0.3s;\n  /* 默认情况下缩进左侧66px，只留一点箭头部分 */\n}\n.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {\n  left: 0 !important;\n  transition: all 0.3s;\n  /* 鼠标悬停是左侧缩进归零，完全显示按钮 */\n}\n.aplayer.aplayer-fixed {\n  z-index: 999999 !important;\n}\n\n/* bilibli番剧插件 */\n.bangumi-active {\n  background: #dbecfe !important;\n  border-radius: 10px !important;\n  }\na.bangumi-tab:hover {\n  text-decoration: none !important;\n}\n.bangumi-button:hover {\n  background: #dbecfe !important;\n  border-radius: 10px !important;\n}\na.bangumi-button.bangumi-nextpage:hover {\n  text-decoration: none !important;\n}\n.bangumi-button {\n  padding: 5px 10px !important;\n}\na.bangumi-tab {\n  padding: 5px 10px !important;\n}\nsvg.icon.faa-tada {\n  font-size: 1.1em;\n}\n\n/*top-img黑色透明玻璃效果移除，不建议加，除非你执着于完全一图流或者背景图对比色明显 */\n/* #page-header:not(.not-top-img):before {\n    background-color: transparent !important;\n  } */\n\n/* 页脚透明 */\n#footer {\n  background: transparent !important;\n}\n\n/* 头图透明 */\n#page-header {\n  background: transparent !important;\n}\n\n/* 鼠标指针 */\n/* 全局默认鼠标指针 */\nbody,html,.post-meta-date{\n  cursor: url(/cur/arrow.cur),auto !important;\n}\n/* 悬停图片时的鼠标指针 */\nimg{\n  cursor: url(/cur/link.cur),auto !important;\n}\n/* 选择链接标签时的鼠标指针 */\na:hover{\n  cursor: url(/cur/link.cur),auto !important;\n}\n/* 选中输入框时的鼠标指针 */\n#veditor,input:hover{\n  cursor: url(/cur/input.cur),auto !important;\n}\n/* 悬停按钮时的鼠标指针 */\nbutton:hover{\n  cursor: url(/cur/link.cur),auto !important;\n}\n.reward-button{\n  cursor: url(/cur/link.cur),auto !important;\n}\n.swiper-pagination-bullet{\n  cursor: url(/cur/link.cur),auto !important;\n}\n#site-name:hover::after{\n  cursor: url(/cur/link.cur),auto !important;\n}\n.vcol.vcol-40.vctrl.text-right>span,\n.folding-tag>summary,\n#scroll-down{\n  cursor: url(/cur/link.cur),auto !important;\n}\n.toc-item.toc-level-1,\n.code-expand-btn,\n.code-expand-btn.expand-done{\n  cursor: url(/cur/link.cur),auto !important;\n}\n/* 悬停列表标签时的鼠标指针 */\ni:hover{\n  cursor: url(/cur/link.cur),auto !important;\n}\ncategory-list-item::before{\n  cursor: url(/cur/arrow.cur),auto !important;\n}\n#aside-content .aside-list > .aside-list-item:hover{\n  cursor: url(/cur/link.cur),auto !important;\n}\n/* 悬停页脚链接标签（例如页脚徽标）时的鼠标指针 */\n#footer-wrap a:hover{\n  cursor: url(/cur/link.cur),auto !important;\n}\n/* 悬停页码时的鼠标指针 */\n#pagination .page-number:hover{\n  cursor: url(/cur/btn.cur),auto !important;\n}\n/* 悬停菜单栏时的鼠标指针 */\n#nav .site-page:hover{\n  cursor: url(/cur/link.cur),auto !important;\n}\n/* 音乐播放器 */\n.aplayer-pic,\n.aplayer-list,\n.aplayer-bar,\n.aplayer-volume-bar,\n.aplayer-volume,\n.aplayer-icon,\n.aplayer-thumb{\n  cursor: url(/cur/link.cur),auto !important;\n}\ndiv>div>ol>li{\n  cursor: url(/cur/link.cur),auto !important;\n}\n.aplayer-music{\n  cursor: url(/cur/arrow.cur),auto !important;\n}\n\n/* 代码框主题 */\n#article-container figure.highlight {\n  border-radius: 10px;\n}\n\n/*哔哩哔哩视频适配*/\n.aspect-ratio {position: relative;width: 100%;height: 0;padding-bottom: 75%;margin: 3% auto;text-align: center;}      \n.aspect-ratio iframe {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  left: 0;\n  top: 0;\n}\n\nsvg.icon {\n  width: 1em; height: 1em;\n  /* width和height定义图标的默认宽度和高度*/\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\n\n/* md网站下划线 */\n#article-container a:hover {\n  text-decoration: none !important;\n}\n\n/* 归档样式 */\nspan.card-archive-list-count {\n  width: auto;\n  text-align: left;\n  font-size: 1.5rem;\n  line-height: 0.9;\n  font-weight: 700;\n}\n.card-archive-list-count-group {\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n}\n#aside-content .card-archives ul.card-archive-list > .card-archive-list-item a span:last-child {\n  width: fit-content;\n  margin-left: 4px;\n}\nspan.card-archive-list-count {\n  width: auto;\n  text-align: left;\n  font-size: 1.1rem;\n  line-height: 0.9;\n  font-weight: 700;\n}\n.card-archive-list-date {\n  font-size: 14px;\n  opacity: 0.6;\n}\nli.card-archive-list-item {\n  width: 100%;\n  flex: 0 0 48%;\n}\n#aside-content .card-archives ul.card-archive-list > .card-archive-list-item a:hover {\n  color: white;\n  background-color: #5CA1FF;\n  border-color: #5CA1FF;\n  box-shadow: 0px 0px 5px #5CA1FF;\n  border-radius: 8px;\n  padding-left: 0.5rem;\n  padding-right: 0.5rem;\n}\n@media screen and (min-width: 1300px) {\n  #aside-content .card-archives ul.card-archive-list > .card-archive-list-item a:hover {\n    transform: scale(1.03);\n  }\n  #aside-content .card-archives ul.card-archive-list > .card-archive-list-item a:active {\n    transform: scale(0.97);\n  }\n}\n#aside-content .card-archives ul.card-archive-list > .card-archive-list-item a {\n  border-radius: 8px;\n  margin: 4px 0;\n  display: flex;\n  border-style: solid;\n  flex-direction: column;\n  align-content: space-between;\n  border-color: #cdd1e0;\n}\n#aside-content .card-archives ul.card-archive-list > .card-archive-list-item a span:first-child {\n  width: auto;\n  flex: inherit;\n}\n#aside-content .card-archives ul.card-archive-list {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  flex-wrap: wrap;\n}\n\n/* 最新文章样式 */\n#aside-content .aside-list > .aside-list-item .content > time {\n  display: none;\n}\n#aside-content .aside-list > .aside-list-item .content > .title {\n  -webkit-line-clamp: 3;\n  font-weight: 700;\n  padding: 2px 0;\n}\n#aside-content .aside-list > .aside-list-item {\n  padding: 8px;\n  padding-top: 6px !important;\n  padding-bottom: 6px !important;\n  border-radius: 12px;\n  transition: 0.3s;\n  margin: 4px 0;\n  cursor: pointer;\n}\n@media screen and (min-width: 1300px) {\n  #aside-content .aside-list > .aside-list-item:hover {\n    transform: scale(1.03);\n  }\n  #aside-content .aside-list > .aside-list-item:active {\n    transform: scale(0.97);\n  }\n}\n#aside-content .aside-list > .aside-list-item:hover .thumbnail > img {\n  transform: scale(1);\n}\n#aside-content .aside-list > .aside-list-item:not(:last-child) {\n  border-bottom: 0 dashed #5CA1FF !important;\n}\n#aside-content .aside-list > .aside-list-item .thumbnail {\n  border-radius: 8px;\n  border: var(--style-border);\n}\n#aside-content .aside-list > .aside-list-item:hover {\n  background: #5CA1FF;\n  color: white;\n  transition: 0.3s;\n  box-shadow: 0px 0px 5px #5CA1FF;\n}\n#aside-content .aside-list > .aside-list-item:hover a {\n  color: white !important;\n}\n.card-widget.card-recent-post {\n  padding: 0.4rem 0.6rem !important;\n}\n\n/* 404页面 */\n#error-wrap {\n  position: absolute;\n  top: 40%;\n  right: 0;\n  left: 0;\n  margin: 0 auto;\n  padding: 0 1rem;\n  max-width: 1000px;\n  transform: translate(0, -50%);\n}\n#error-wrap .error-content {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin: 0 1rem;\n  height: 18rem;\n  border-radius: 8px;\n  background: #5CA1FF;\n  box-shadow:  0px 0px 5px #5CA1FF;\n  transition: all 0.3s;\n}\n#error-wrap .error-content .error-img {\n  box-flex: 1;\n  flex: 1;\n  height: 100%;\n  border-top-left-radius: 8px;\n  border-bottom-left-radius: 8px;\n  background-color: #5CA1FF;\n  background-position: center;\n  background-size: cover;\n}\n#error-wrap .error-content .error-info {\n  box-flex: 1;\n  flex: 1;\n  padding: 0.5rem;\n  text-align: center;\n  font-size: 14px;\n  font-family: Titillium Web, 'PingFang SC', 'Hiragino Sans GB', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif;\n}\n#error-wrap .error-content .error-info .error_title {\n  margin-top: -4rem;\n  font-size: 9em;\n}\n#error-wrap .error-content .error-info .error_subtitle {\n  margin-top: -3.5rem;\n  word-break: break-word;\n  font-size: 1.6em;\n}\n#error-wrap .error-content .error-info a {\n  display: inline-block;\n  margin-top: 0.5rem;\n  padding: 0.3rem 1.5rem;\n  background: var(--btn-bg);\n  color: var(--btn-color);\n}\n#body-wrap.error .aside-list {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  bottom: 0px;\n  position: absolute;\n  padding: 1rem;\n  width: 100%;\n  overflow: scroll;\n}\n#body-wrap.error .aside-list .aside-list-group {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n#body-wrap.error .aside-list .aside-list-item {\n  padding: 0.5rem;\n}\n#body-wrap.error .aside-list .aside-list-item img {\n  width: 100%;\n  object-fit: cover;\n  border-radius: 12px;\n}\n#body-wrap.error .aside-list .aside-list-item .thumbnail {\n  overflow: hidden;\n  width: 230px;\n  height: 143px;\n  background: var(--heo-card-bg);\n  display: flex;\n}\n#body-wrap.error .aside-list .aside-list-item .content .title {\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  line-height: 1.5;\n  justify-content: center;\n  align-items: flex-end;\n  align-content: center;\n  padding-top: 0.5rem;\n  color: #5CA1FF;\n}\n#body-wrap.error .aside-list .aside-list-item .content time {\n  display: none;\n}\n\n/* 浮动特效 */\n.wowpanels {\n  transition: all .4s cubic-bezier(.39,.575,.565,1);\n  }\n\n/* 页面大小 */\n/* 电脑端 */\n.layout{\n  max-width:1450px;\n}\nbody,html,.post-meta-date{\n  font-weight: 700;\n}\n.recent-posts{\n  min-width: 1100px;\n}\n.layout > #post,#page,#category{\n  min-width: 1100px;\n}\n/* 手机端 */\n@media screen and (max-width: 768px) {\n  .layout{\n    max-width: 100%;\n  }\n  .recent-posts,#page-header{\n    min-width: 100%;\n  }\n  .layout > #post,#page,#category{\n    min-width: 100%;\n  }\n}\n\n/* 弹窗样式 */\n.swal-modal .swal-text {\n  font-size: 22px;\n  text-align: center;\n}\n\n/* 页脚颜色 */\n.copyright {\n  color: aqua;\n}\n.framework-info {\n  color: aqua;\n}\n#footer #footer-wrap .framework-info a {\n  color: orange;\n}\n\n/* 个人卡片渐变色 */\n#aside-content > .card-widget.card-info {\n  background: linear-gradient(-45deg, #5CA1FF, #031764, #150136, #67044d);\n  background-size: 400%;\n  box-shadow: 0 0 1px black;\n  animation: gradient 15s ease infinite;\n  position: relative;\n  color: white;\n}\n.site-data > a .headline,.site-data > a .length-num {\n  color: white;\n}\n#aside-content > .card-widget.card-info > #card-info-btn{\n  border-radius: 5px;\n  background: #425aef;\n}\n\n/* 按钮颜色 */\n#rightside #rightside-config-show button{\n  background: #425aef;\n}\n#rightside #rightside-config-hide button{\n  background: #425aef;\n}\n#rightside #rightside-config-hide a{\n  background: #425aef;\n}\n```\n\n## 站点动态标题\n\n> 参考了安知鱼的方案进行修改\n> 原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#%E7%AB%99%E7%82%B9%E5%8A%A8%E6%80%81-title)\n\n```js [index.js]\n//动态标题\nvar OriginTitile = document.title;\nvar titleTime;\ndocument.addEventListener('visibilitychange', function () {\n  if (document.hidden) {\n    //离开当前页面时标签显示内容\n    document.title = 'w(ﾟДﾟ)w 不要走！再看看嘛！';\n    clearTimeout(titleTime);\n  } else {\n    //返回当前页面时标签显示内容\n    document.title = '♪(^∇^*)欢迎回来！' + OriginTitile;\n    //两秒后变回正常标题\n    titleTime = setTimeout(function () {\n      document.title = OriginTitile;\n    }, 1000);\n  }\n});\n```\n\n## 加载渐变条\n\n> 原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#%E5%8A%A0%E8%BD%BD%E6%B8%90%E5%8F%98%E6%9D%A1)\n\n引入以下`css`\n\n```css [index.css]\n.pace {\n    -webkit-pointer-events: none;\n    pointer-events: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n    z-index: 2000;\n    position: fixed;\n    margin: auto;\n    top: 10px;\n    left: 0;\n    right: 0;\n    height: 8px;\n    border-radius: 8px;\n    width: 4rem;\n    background: #eaecf2;\n    border: 1px #e3e8f7;\n    overflow: hidden\n}\n\n.pace-inactive .pace-progress {\n    opacity: 0;\n    transition: .3s ease-in\n}\n\n.pace .pace-progress {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -ms-box-sizing: border-box;\n    -o-box-sizing: border-box;\n    box-sizing: border-box;\n    -webkit-transform: translate3d(0, 0, 0);\n    -moz-transform: translate3d(0, 0, 0);\n    -ms-transform: translate3d(0, 0, 0);\n    -o-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n    max-width: 200px;\n    position: absolute;\n    z-index: 2000;\n    display: block;\n    top: 0;\n    right: 100%;\n    height: 100%;\n    width: 100%;\n    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);\n    animation: gradient 1.5s ease infinite;\n    background-size: 200%\n}\n\n.pace.pace-inactive {\n    opacity: 0;\n    transition: .3s;\n    top: -8px\n}\n\n@keyframes gradient {\n    0% {\n        background-position: 0% 50%;\n    }\n\n    50% {\n        background-position: 100% 50%;\n    }\n\n    100% {\n        background-position: 0% 50%;\n    }\n}\n```\n\n修改`[Blogroot]\\_config.butterfly.yml`的inject配置项\n\n```yml [_config.butterfly.yml]\ninject:\n  head:\n    - <script data-pjax src=\"//npm.elemecdn.com/pace-js@1.2.4/pace.min.js\"></script>\n  bottom:\n```\n\n## 文章链接转码\n\n```shell [npm]\nnpm install hexo-abbrlink --save\n```\n\n在hexo配置文件或主题配置文件中添加\n\n```yml [_config.yml]\nabbrlink:\n  alg: crc32   #算法： crc16(default) and crc32\n  rep: hex    #进制： dec(default) and hex: dec #输出进制：十进制和十六进制，默认为10进制。丨dec为十进制，hex为十六进制\n```\n\n## 文章双栏\n\n```shell [npm]\nnpm install hexo-butterfly-article-double-row --save\n```\n\n在hexo配置文件或主题配置文件中添加\n\n```yml [_config.yml]\nbutterfly_article_double_row:\n  enable: true\n```\n"},{"title":"【个人博客网站】博客美化（一）：制作欢迎弹窗","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n参考了店长的方案进行修改\r\n原教程[SAO-UI-PLAN-Notify](https://akilar.top/posts/d0d69f76/)\r\n原教程[SAO-UI-P","link":"/posts/meihua/meihua1","content":"\r\n::: tip\r\n\r\n参考了店长的方案进行修改\r\n原教程[SAO-UI-PLAN-Notify](https://akilar.top/posts/d0d69f76/)\r\n原教程[SAO-UI-PLAN-LINK-START](https://akilar.top/posts/1b4fa1dd/)\r\n\r\n:::\r\n\r\n## 修改正文\r\n\r\n### 引入[SweetAlert](https://sweetalert.js.org/guides/)的jsCDN\r\n\r\n修改`[Blogroot]\\_config.butterfly.yml`的inject配置项\r\n\r\n```yml [_config.butterfly.yml]\r\ninject:\r\n  head:\r\n    - <script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>\r\n  bottom:\r\n```\r\n\r\n### 修改加载文件\r\n\r\n修改`[Blogroot]\\themes\\butterfly\\layout\\includes\\loading\\fullpage-loading.pug`\r\n\r\n```pug [fullpage-loading.pug]\r\nscript.\r\n  const preloader = {\r\n    endLoading: () => {\r\n      document.body.style.overflow = 'auto';\r\n      document.getElementById('loading-box').classList.add(\"loaded\") // [!code --]\r\n      document.getElementById('loading-box').style.transition = 'opacity 3s'; // [!code ++]\r\n      document.getElementById('loading-box').style.opacity = '0'; // [!code ++]\r\n      setTimeout(function(){ // [!code ++]\r\n        document.getElementById('loading-box').classList.add(\"loaded\") // [!code ++]\r\n      },3000) // [!code ++]\r\n\r\n      //用于判断是否第一次加载 // [!code ++]\r\n      if(sessionStorage.getItem(\"isReload\")){ // [!code ++]\r\n        //若显示已经加载过 // [!code ++]\r\n        return true // [!code ++]\r\n      }else{ // [!code ++]\r\n        //若为第一次加载 // [!code ++]\r\n        sessionStorage.setItem(\"isReload\", true) // [!code ++]\r\n        swal({\r\n          title: \"//弹窗标题\", // [!code ++]\r\n          text: '//弹窗文本', // [!code ++]\r\n          icon: \"//弹窗图标\", // [!code ++]\r\n          button:\"//按钮文本\", // [!code ++]\r\n          timer: //弹窗延时 , // [!code ++]\r\n          showConfirmButton: false // [!code ++]\r\n        }) // [!code ++]\r\n      } // [!code ++]\r\n    },\r\n    initLoading: () => {\r\n      document.body.style.overflow = '';\r\n      document.getElementById('loading-box').style.transition = ''; // [!code ++]\r\n      document.getElementById('loading-box').style.opacity = '1'; // [!code ++]\r\n      document.getElementById('loading-box').classList.remove(\"loaded\")\r\n    }\r\n  }\r\n  window.addEventListener('load',()=> {preloader.endLoading()})\r\n```\r\n\r\n## 总结\r\n\r\n弹窗是很好写的，但奈何本人是个笨蛋，bug一堆，总之还是写出来了\r\n"},{"title":"【个人博客网站】博客美化（十）：彩色图标以及浮动特效","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\n:::tip\n\n参考了安知鱼的方案进行修改\n原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#%E8%8F%9C%E5%8D%95%E6%","link":"/posts/meihua/meihua10","content":"\n:::tip\n\n参考了安知鱼的方案进行修改\n原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#%E8%8F%9C%E5%8D%95%E6%A0%8F%E5%A4%9A%E8%89%B2%E5%9B%BE%E6%A0%87%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B)\n\n:::\n\n::: tip\n\n参考了店长的方案进行修改\n原教程[菜单栏多色图标配置教程](https://akilar.top/posts/23fdf850/)\n原教程[Social卡片彩色图标引入](https://akilar.top/posts/23fdf850/)\n\n:::\n\n## 自定义样式\n\n在css样式文件中，加入\n\n```css [index.css]\n.wowpanels {\n  transition: all .4s cubic-bezier(.39,.575,.565,1);\n}\n```\n\n## floatpanel.js\n\n创建`source/js/floatpanel.js`文件\n\n```js [floatpanel.js]\n// 新增的内容\nvar arr = document.getElementsByClassName('element-class');\n//把element-class替换成你想要添加特效的元素的类名\nfor(var i = 0;i<arr.length;i++){\n    arr[i].classList.add('wowpanels');\n  }\n// 原来的内容\nvar ANGLE = 45; //控制浮动角度，数值越大，浮动幅度越大。\nvar panel= document.getElementsByClassName('wowpanels');\nfor(var i = 0;i<panel.length;i++){\n  floatable(panel[i]);\n  }\nfunction floatable (content) {\n  content.addEventListener('mouseout', e => {\n    content.style.transform = `perspective(300px)\n                   rotateX(0deg)\n                   rotateY(0deg)\n                   rotateZ(0deg)`;\n  });\n  content.addEventListener('mousemove', e => {\n    var w = content.clientWidth;\n    var h = content.clientHeight;\n    var y = (e.offsetX - w * 0.5) / w * ANGLE;\n    var x = (1 - (e.offsetY - h * 0.5)) / h * ANGLE;\n\n    content.style.transform = `perspective(300px)\n                   rotateX(${x}deg)\n                   rotateY(${y}deg)`;\n  });\n}\n\nvar ANGLE = 45; //控制浮动角度，数值越大，浮动幅度越大。\n\nvar panel= document.getElementsByClassName('wowpanels');\nfor(var i = 0;i<panel.length;i++){\n  floatable(panel[i]);\n}\nfunction floatable (content) {\n  content.addEventListener('mouseout', e => {\n    content.style.transform = `perspective(300px)\n                   rotateX(0deg)\n                   rotateY(0deg)\n                   rotateZ(0deg)`;\n  });\n  content.addEventListener('mousemove', e => {\n    var w = content.clientWidth;\n    var h = content.clientHeight;\n    var y = (e.offsetX - w * 0.5) / w * ANGLE;\n    var x = (1 - (e.offsetY - h * 0.5)) / h * ANGLE;\n\n    content.style.transform = `perspective(300px)\n                    rotateX(${x}deg)\n                    rotateY(${y}deg)`;\n  });\n}\n```\n\n引入js文件\n\n```yml [_config.butterfly.yml]\ninject:\n  bottom:\n    - <script async data-pjax src=\"/js/floatpanel.js\"></script>\n```\n\n## 替换\n\n### menu_item.pug\n\n全部内容修改`[Blogroot]\\themes\\butterfly\\layout\\includes\\header\\menu_item.pug`,本方案默认使用观感最佳的悬停父元素触发子元素动画效果。默认动画为faa-tada。\n\n```pug [menu_item.pug]\nif theme.menu\n  - let sidebarChildHide = theme.hide_sidebar_menu_child ? 'hide' : ''\n\n  .menus_items\n    each value, label in theme.menu\n      if typeof value !== 'object'\n        .menus_item\n          - const valueArray = value.split('||')\n          a.site-page.faa-parent.animated-hover(href=url_for(trim(valueArray[0])))\n            if valueArray[1]\n              - var icon_value = trim(valueArray[1])\n              - var anima_value = valueArray[2] ? trim(valueArray[2]) : 'faa-tada'\n              if icon_value.substring(0,2)==\"fa\"      \n                i.fa-fw(class=icon_value + ' ' + anima_value)\n              else if icon_value.substring(0,4)==\"icon\"          \n                svg.icon(aria-hidden=\"true\" class=anima_value)\n                  use(xlink:href=`#`+ icon_value)\n            span=' '+label\n      else\n        .menus_item\n          - const labelArray = label.split('||')\n          - const hideClass = labelArray[2] && trim(labelArray[2]) === 'hide' ? 'hide' : ''\n          a.site-page.group.faa-parent.animated-hover(class=`${hideClass}` href='javascript:void(0);')\n            if labelArray[1]\n              - var icon_label = trim(labelArray[1])\n              - var anima_label = labelArray[2] ? trim(labelArray[2]) : 'faa-tada'\n              if icon_label.substring(0,2)==\"fa\"      \n                i.fa-fw(class=icon_label + ' ' + anima_label)\n              else if icon_label.substring(0,4)==\"icon\"    \n                svg.icon(aria-hidden=\"true\" class=anima_label)\n                  use(xlink:href=`#`+ icon_label)\n            span=' '+ trim(labelArray[0])\n            i.fas.fa-chevron-down.expand(class=sidebarChildHide)\n          ul.menus_item_child\n            each val,lab in value \n              - const valArray = val.split('||')\n              li\n                a.site-page.child.faa-parent.animated-hover(href=url_for(trim(valArray[0])))\n                  if valArray[1]\n                    - var icon_val = trim(valArray[1])\n                    - var anima_val = valArray[2] ? trim(valArray[2]) : 'faa-tada'\n                    if icon_val.substring(0,2)==\"fa\"      \n                      i.fa-fw(class=icon_val + ' ' + anima_val)\n                    else if icon_val.substring(0,4)==\"icon\"\n                      svg.icon(aria-hidden=\"true\" class=anima_val)\n                        use(xlink:href=`#`+ icon_val)\n                  span=' '+ lab\n```\n\n### social.pug\n\n重写`[Blogroot]\\themes\\butterfly\\layout\\includes\\header\\social.pug`,替换为以下代码：\n\n```pug [social.pug]\neach value, title in theme.social\n  a.social-icon.faa-parent.animated-hover(href=url_for(trim(value.split('||')[0])) target=\"_blank\" title=title === undefined ? '' : trim(title))\n    if value.split('||')[1]\n      - var icon_value = trim(value.split('||')[1])\n      - var anima_value = value.split('||')[2] ? trim(value.split('||')[2]) : 'faa-tada'\n      if icon_value.substring(0,2)==\"fa\"      \n        i.fa-fw(class=icon_value + ' ' + anima_value)\n      else if icon_value.substring(0,4)==\"icon\"          \n        svg.icon(aria-hidden=\"true\" class=anima_value)\n          use(xlink:href=`#`+ icon_value)\n```\n"},{"title":"【个人博客网站】博客美化（十一）：修改全局弹窗样式","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\n### 引入样式文件\n\n修改主题配置文件\n\n```yml [_config.butterfly.yml]\ninject:\n  head:\n    - <script src=\"https://unp","link":"/posts/meihua/meihua11","content":"\n### 引入样式文件\n\n修改主题配置文件\n\n```yml [_config.butterfly.yml]\ninject:\n  head:\n    - <script src=\"https://unpkg.com/vue@2.7.13/dist/vue.min.js\"></script>\n    - <script src=\"https://unpkg.com/element-ui@2.15.10/lib/index.js\"></script>\n    - <link rel=\"stylesheet\" href=\"https://unpkg.com/element-ui@2.15.10/packages/theme-chalk/lib/index.css\">\n  bottom:\n```\n\n### 修改文件\n\n这里主要修改三个js文件`utils.js`、`main.js`和`tw_cn.js`\n\n### utils.js\n\n打开`[Blogroot]\\themes\\butterfly\\source\\js\\utils.js`，修改以下内容\n\n```js [utils.js]\n   snackbarShow: (text, showAction = false, duration = 2000) => { // [!code --]\n     const { position, bgLight, bgDark } = GLOBAL_CONFIG.Snackbar // [!code --]\n     const bg = document.documentElement.getAttribute('data-theme') === 'light' ? bgLight : bgDark // [!code --]\n     Snackbar.show({ // [!code --]\n       text: text, // [!code --]\n       backgroundColor: bg, // [!code --]\n       showAction: showAction, // [!code --]\n       duration: duration, // [!code --]\n       pos: position, // [!code --]\n       customClass: 'snackbar-css' // [!code --]\n     }) // [!code --]\n   }, // [!code --]\n   snackbarShow: (title, message, type, offset = 50, showClose = false) => { // [!code ++]\n     const { position } = GLOBAL_CONFIG.Snackbar // [!code ++]\n     new Vue({ // [!code ++]\n       data: function () { // [!code ++]\n           this.$notify({ // [!code ++]\n               title: title, // [!code ++]\n               message: message, // [!code ++]\n               position: position, // [!code ++]\n               offset: offset, // [!code ++]\n               showClose: showClose, // [!code ++]\n               type: type // [!code ++]\n           });\n           return { visible: false } // [!code ++]\n       } // [!code ++]\n     }) // [!code ++]\n   }, // [!code ++]\n```\n\n### main.js\n\n打开`[Blogroot]\\themes\\butterfly\\source\\js\\main.js`\n\n```js [main.js]\n        if (GLOBAL_CONFIG.Snackbar !== undefined) {\n           btf.snackbarShow(GLOBAL_CONFIG.copy.success) // [!code --]\n           btf.snackbarShow(GLOBAL_CONFIG.copy.success,\"如转载请注明出处！\",\"success\") // [!code ++]\n        } else {\n          const prevEle = ctx.previousElementSibling\n          prevEle.innerText = GLOBAL_CONFIG.copy.success\n          prevEle.style.opacity = 1\n          setTimeout(() => { prevEle.style.opacity = 0 }, 700)\n      } else {\n        if (GLOBAL_CONFIG.Snackbar !== undefined) {\n           btf.snackbarShow(GLOBAL_CONFIG.copy.noSupport) // [!code --]\n           btf.snackbarShow(GLOBAL_CONFIG.copy.noSupport,\"请更换浏览器重试！\",\"error\") // [!code ++]\n        } else {\n          ctx.previousElementSibling.innerText = GLOBAL_CONFIG.copy.noSupport\n        }\n······\n      if (nowMode === 'light') {\n        activateDarkMode()\n        saveToLocal.set('theme', 'dark', 2)\n         GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night) // [!code --]\n         GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(\"效果已切换\",GLOBAL_CONFIG.Snackbar.day_to_night,\"success\") // [!code ++]\n      } else {\n        activateLightMode()\n        saveToLocal.set('theme', 'light', 2)\n         GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day) // [!code --]\n         GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(\"效果已切换\",GLOBAL_CONFIG.Snackbar.night_to_day,\"success\") // [!code ++]\n      }\n```\n\n### tw_cn.js\n\n打开`[Blogroot]\\themes\\butterfly\\source\\js\\tw_cn.js`\n\n```js [tw_cn.js]\n      translateBody()\n       if (isSnackbar) btf.snackbarShow(snackbarData.cht_to_chs) // [!code --]\n       if (isSnackbar) btf.snackbarShow(\"语言切换成功\",snackbarData.cht_to_chs,\"success\") // [!code ++]\n    } else if (targetEncoding === 2) {\n      currentEncoding = 2\n      targetEncoding = 1\n      translateButtonObject.innerHTML = msgToSimplifiedChinese\n      saveToLocal.set(targetEncodingCookie, targetEncoding, 2)\n      translateBody()\n       if (isSnackbar) btf.snackbarShow(snackbarData.chs_to_cht) // [!code --]\n       if (isSnackbar) btf.snackbarShow(\"語言切換成功\",snackbarData.chs_to_cht,\"success\") // [!code ++]\n    }\n```\n"},{"title":"【个人博客网站】博客美化（二）：制作右键菜单","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n参考了LYX的方案进行修改\r\n原教程[butterfly博客自定义右键菜单升级版](https://yisous.xyz/posts/11eb4aac/)\r\n\r\n2022.0","link":"/posts/meihua/meihua2","content":"\r\n::: tip\r\n\r\n参考了LYX的方案进行修改\r\n原教程[butterfly博客自定义右键菜单升级版](https://yisous.xyz/posts/11eb4aac/)\r\n\r\n2022.09.20 加入F12弹窗提示\r\n2022.09.22 修复百度搜索和转到链接功能点击后页面刷新的问题\r\n\r\n:::\r\n\r\n## PUG部分\r\n\r\n新建`[blogRoot]\\themes\\butterfly\\layout\\includes\\dorakika\\rightmenu.pug`，编写以下内容：\r\n\r\n```pug [rightmenu.pug]\r\n#rightMenu\r\n    .rightMenu-group.rightMenu-small\r\n        a.rightMenu-item(href=\"javascript:window.history.back();\")\r\n            i.fa.fa-arrow-left\r\n        a.rightMenu-item(href=\"javascript:window.history.forward();\")\r\n            i.fa.fa-arrow-right\r\n        a.rightMenu-item(href=\"javascript:window.location.reload();\")\r\n            i.fa.fa-refresh\r\n        a.rightMenu-item(href=\"javascript:rmf.scrollToTop();\")\r\n            i.fa.fa-arrow-up\r\n    .rightMenu-group.rightMenu-line.hide#menu-text\r\n        a.rightMenu-item(href=\"javascript:window.open(\\\"https://www.baidu.com/s?wd=\\\"+window.getSelection().toString());\")\r\n            i.iconfont.icon-baidu\r\n            span='百度搜索'\r\n        a.rightMenu-item(href=\"javascript:rmf.copySelect();\")\r\n            i.fa.fa-copy\r\n            span='复制'\r\n    .rightMenu-group.rightMenu-line.hide#menu-too\r\n        a.rightMenu-item(href=\"javascript:window.open(window.getSelection().toString());\")\r\n            i.fa.fa-link\r\n            span='转到链接'\r\n    .rightMenu-group.rightMenu-line.hide#menu-paste\r\n        a.rightMenu-item(href='javascript:rmf.paste()')\r\n            i.fa.fa-copy\r\n            span='粘贴'\r\n    .rightMenu-group.rightMenu-line.hide#menu-post\r\n        a.rightMenu-item(href=\"#post-comment\")\r\n            i.fas.fa-comment\r\n            span='空降评论'\r\n        a.rightMenu-item(href=\"javascript:rmf.copyWordsLink()\")\r\n            i.fa.fa-link\r\n            span='复制本文地址'\r\n    .rightMenu-group.rightMenu-line.hide#menu-to\r\n        a.rightMenu-item(href=\"javascript:rmf.openWithNewTab()\")\r\n            i.fa.fa-window-restore\r\n            span='新窗口打开'\r\n        a.rightMenu-item#menu-too(href=\"javascript:rmf.open()\")\r\n            i.fa.fa-link\r\n            span='转到链接'\r\n        a.rightMenu-item(href=\"javascript:rmf.copyLink()\")\r\n            i.fa.fa-copy\r\n            span='复制链接'\r\n    .rightMenu-group.rightMenu-line.hide#menu-img\r\n        a.rightMenu-item(href=\"./#post-comment\")\r\n            i.fa.fa-download\r\n            span='保存图片'\r\n        a.rightMenu-item(href=\"javascript:rmf.openWithNewTab()\")\r\n            i.fa.fa-window-restore\r\n            span='在新窗口打开'\r\n        a.rightMenu-item(href=\"javascript:rmf.click()\")\r\n            i.fa.fa-arrows-alt\r\n            span='全屏显示'\r\n        a.rightMenu-item(href=\"javascript:rmf.copyLink()\")\r\n            i.fa.fa-copy\r\n            span='复制图片链接'\r\n    .rightMenu-group.rightMenu-line\r\n        a.rightMenu-item(href=\"javascript:toRandomPost()\")\r\n            i.fa.fa-paper-plane\r\n            span='随便逛逛'\r\n        a.rightMenu-item(href=\"javascript:rmf.switchDarkMode();\")\r\n            i.fa.fa-moon\r\n            span='昼夜切换'\r\n        a.rightMenu-item(href=\"javascript:rmf.translate();\")\r\n            i.iconfont.icon-fanti\r\n            span='繁简转换'\r\n        if is_home()==false\r\n            a.rightMenu-item(href=\"javascript:rmf.switchReadMode();\")\r\n                i.fa.fa-book\r\n                span='阅读模式'\r\n        a.rightMenu-item(href=\"javascript:window.location.href=\\\"/about/\\\";\")\r\n            i.fa.fa-info-circle\r\n            span='关于本站'\r\n```\r\n\r\n> 注意：如果你的博客没有about界面请修改以下内容中的about字串\r\n\r\n```pug [rightmenu.pug]\r\n        a.rightMenu-item(href=\"javascript:window.location.href=\\\"/{% about/\\\";\")\r\n            i.fa.fa-info-circle\r\n            span='关于本站'\r\n```\r\n\r\n然后在`[blogRoot]/themes/butterfly/layout/includes/layout.pug`中引入（注意缩进，去掉+）\r\n\r\n```pug [layout.pug]\r\ndoctype html\r\nhtml(lang=config.language data-theme=theme.display_mode class=htmlClassHideAside)\r\n  head\r\n    include ./head.pug\r\n  body\r\n    ...\r\n\r\n    else\r\n      include ./404.pug\r\n\r\n    include ./rightside.pug\r\n    !=partial('includes/third-party/search/index', {}, {cache: true})\r\n    !=partial('includes/rightmenu',{}, {cache:true}) // [!code ++]\r\n    include ./additional-js.pug\r\n```\r\n\r\n## CSS部分\r\n\r\n> 注意：css一定要放进主题的css文件夹内\r\n\r\n新建`[blogRoot]/themes/butterfly/source/css/rightmenu.css`\r\n\r\n```css [rightmenu.css]\r\n/* rightMenu */\r\n#rightMenu{\r\n    display: none;\r\n    position: fixed;\r\n    width: 160px;\r\n    height: fit-content;\r\n    top: 10%;\r\n    left: 10%;\r\n    background-color: var(--card-bg);\r\n    border: 1px solid var(--font-color);\r\n    border-radius: 8px;\r\n    z-index: 100;\r\n}\r\n#rightMenu .rightMenu-group{\r\n    padding: 7px 6px;\r\n}\r\n#rightMenu .rightMenu-group:not(:nth-last-child(1)){\r\n    border-bottom: 1px solid var(--font-color);\r\n}\r\n#rightMenu .rightMenu-group.rightMenu-small{\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n#rightMenu .rightMenu-group .rightMenu-item{\r\n    height: 30px;\r\n    line-height: 30px;\r\n    border-radius: 8px;\r\n    transition: 0.3s;\r\n    color: var(--font-color);\r\n}\r\n#rightMenu .rightMenu-group.rightMenu-line .rightMenu-item{\r\n    display: flex;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    padding: 0 4px;\r\n}\r\n#rightMenu .rightMenu-group .rightMenu-item:hover{\r\n    background-color: var(--text-bg-hover);\r\n}\r\n#rightMenu .rightMenu-group .rightMenu-item i{\r\n    display: inline-block;\r\n    text-align: center;\r\n    line-height: 30px;\r\n    width: 30px;\r\n    height: 30px;\r\n    padding: 0 5px;\r\n}\r\n#rightMenu .rightMenu-group .rightMenu-item span{\r\n    line-height: 30px;\r\n}\r\n\r\n#rightMenu .rightMenu-group.rightMenu-line .rightMenu-item *{\r\n    height: 40px;\r\n    line-height: 40px;\r\n}\r\n.rightMenu-group.hide{\r\n    display: none;\r\n}\r\n```\r\n\r\n> 推荐用原版css，LYX的如果不修改，会在友链界面右键不出菜单\r\n\r\n然后在主题配置文件中引入css\r\n\r\n```yml [_config.butterfly.yml]\r\ninject:\r\n  head:\r\n  - <link rel=\"stylesheet\" href=\"/css/rightmenu.css\">\r\n  - ...\r\n  bottom:\r\n  - ...\r\n```\r\n\r\n## JS部分\r\n\r\n创建`[blogRoot]/themes/butterfly/source/js/rightmenu.js`\r\n\r\n```js [rightmenu.js]\r\nconsole.log(\r\n    \"Codes uses GPL Licence\"\r\n)\r\n\r\nfunction insertAtCursor(myField, myValue) {\r\n\r\n    //IE 浏览器\r\n    if (document.selection) {\r\n        myField.focus();\r\n        sel = document.selection.createRange();\r\n        sel.text = myValue;\r\n        sel.select();\r\n    }\r\n\r\n    //FireFox、Chrome等\r\n    else if (myField.selectionStart || myField.selectionStart == '0') {\r\n        var startPos = myField.selectionStart;\r\n        var endPos = myField.selectionEnd;\r\n\r\n        // 保存滚动条\r\n        var restoreTop = myField.scrollTop;\r\n        myField.value = myField.value.substring(0, startPos) + myValue + myField.value.substring(endPos, myField.value.length);\r\n\r\n        if (restoreTop > 0) {\r\n            myField.scrollTop = restoreTop;\r\n        }\r\n\r\n        myField.focus();\r\n        myField.selectionStart = startPos + myValue.length;\r\n        myField.selectionEnd = startPos + myValue.length;\r\n    } else {\r\n        myField.value += myValue;\r\n        myField.focus();\r\n    }\r\n}\r\nlet rmf = {};\r\nrmf.showRightMenu = function (isTrue, x = 0, y = 0) {\r\n    let $rightMenu = $('#rightMenu');\r\n    $rightMenu.css('top', x + 'px').css('left', y + 'px');\r\n\r\n    if (isTrue) {\r\n        $rightMenu.show();\r\n    } else {\r\n        $rightMenu.hide();\r\n    }\r\n}\r\nrmf.switchDarkMode = function () {\r\n    const nowMode = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'light'\r\n    if (nowMode === 'light') {\r\n        activateDarkMode()\r\n        saveToLocal.set('theme', 'dark', 2)\r\n        GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.day_to_night)\r\n    } else {\r\n        activateLightMode()\r\n        saveToLocal.set('theme', 'light', 2)\r\n        GLOBAL_CONFIG.Snackbar !== undefined && btf.snackbarShow(GLOBAL_CONFIG.Snackbar.night_to_day)\r\n    }\r\n    // handle some cases\r\n    typeof utterancesTheme === 'function' && utterancesTheme()\r\n    typeof FB === 'object' && window.loadFBComment()\r\n    window.DISQUS && document.getElementById('disqus_thread').children.length && setTimeout(() => window.disqusReset(), 200)\r\n};\r\nrmf.copyWordsLink = function () {\r\n    let url = window.location.href\r\n    let txa = document.createElement(\"textarea\");\r\n    txa.value = url;\r\n    document.body.appendChild(txa)\r\n    txa.select();\r\n    document.execCommand(\"Copy\");\r\n    document.body.removeChild(txa);\r\n    swal({\r\n        icon: \"success\",\r\n        text: \"复制成功，如转载请注明出处！\",\r\n        button: false,\r\n        timer: 1000,\r\n      });\r\n}\r\nrmf.switchReadMode = function () {\r\n    const $body = document.body\r\n    $body.classList.add('read-mode')\r\n    const newEle = document.createElement('button')\r\n    newEle.type = 'button'\r\n    newEle.className = 'fas fa-sign-out-alt exit-readmode'\r\n    $body.appendChild(newEle)\r\n\r\n    function clickFn() {\r\n        $body.classList.remove('read-mode')\r\n        newEle.remove()\r\n        newEle.removeEventListener('click', clickFn)\r\n    }\r\n\r\n    newEle.addEventListener('click', clickFn)\r\n}\r\n\r\n//复制选中文字\r\nrmf.copySelect = function () {\r\n    document.execCommand('Copy', false, null);\r\n    //这里可以写点东西提示一下 已复制\r\n    swal({\r\n        icon: \"success\",\r\n        text: \"复制成功，如转载请注明出处！\",\r\n        button: false,\r\n        timer: 1000,\r\n      });\r\n}\r\n\r\n//回到顶部\r\nrmf.scrollToTop = function () {\r\n    btf.scrollToDest(0, 500);\r\n}\r\nrmf.translate = function () {\r\n    document.getElementById(\"translateLink\").click();\r\n}\r\n\r\n// 右键菜单事件\r\ndocument.onkeydown = function (event) {\r\n    event = (event || window.event);\r\n    if (event.keyCode == 17) {\r\n        console.log(\"你知道的太多了\");\r\n        return;\r\n    }\r\n}\r\n\r\nfunction popupMenu() {\r\n    //window.oncontextmenu=function(){return false;}\r\n    window.oncontextmenu = function (event) {\r\n        // if(event.ctrlKey)return true; //ctrl右键原界面\r\n        console.log(event.keyCode)\r\n        $('.rightMenu-group.hide').hide();\r\n        //如果有文字选中，则显示 文字选中相关的菜单项\r\n        if (document.getSelection().toString()) {\r\n            $('#menu-text').show();\r\n        }\r\n        if (document.getElementById('post')) {\r\n            $('#menu-post').show();\r\n        } else {\r\n            if (document.getElementById('page')) {\r\n                $('#menu-post').show();\r\n            }\r\n        }\r\n        var el = window.document.body;\r\n        el = event.target;\r\n        var a=/^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\*\\+,;=.]+$/\r\n        if (a.test(window.getSelection().toString())){\r\n            $('#menu-too').show()\r\n        }\r\n        if (el.tagName == 'A') {\r\n            $('#menu-to').show()\r\n            rmf.open = function () {\r\n                location.href = el.href\r\n            }\r\n            rmf.openWithNewTab = function () {\r\n                window.open(el.href);\r\n            }\r\n            rmf.copyLink = function () {\r\n                let url = el.href\r\n                let txa = document.createElement(\"textarea\");\r\n                txa.value = url;\r\n                document.body.appendChild(txa)\r\n                txa.select();\r\n                document.execCommand(\"Copy\");\r\n                document.body.removeChild(txa);\r\n            }\r\n        }\r\n        if (el.tagName == 'IMG') {\r\n            $('#menu-img').show()\r\n            rmf.openWithNewTab = function () {\r\n                window.open(el.src);\r\n            }\r\n            rmf.click = function () {\r\n                el.click()\r\n            }\r\n            rmf.copyLink = function () {\r\n                let url = el.src\r\n                let txa = document.createElement(\"textarea\");\r\n                txa.value = url;\r\n                document.body.appendChild(txa)\r\n                txa.select();\r\n                document.execCommand(\"Copy\");\r\n                document.body.removeChild(txa);\r\n            }\r\n        } else if (el.tagName == \"TEXTAREA\" || el.tagName == \"INPUT\") {\r\n            $('#menu-paste').show();\r\n            rmf.paste = function () {\r\n                navigator.permissions\r\n                    .query({\r\n                        name: 'clipboard-read'\r\n                    })\r\n                    .then(result => {\r\n                        if (result.state == 'granted' || result.state == 'prompt') {\r\n                            //读取剪贴板\r\n                            navigator.clipboard.readText().then(text => {\r\n                                console.log(text)\r\n                                insertAtCursor(el, text)\r\n                            })\r\n                        } else {\r\n                            swal({\r\n                                icon: \"info\",\r\n                                text: \"请允许读取剪贴板！！\",\r\n                                button: false,\r\n                                timer: 1000,\r\n                              })\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n        let pageX = event.clientX + 10;\r\n        let pageY = event.clientY;\r\n        let rmWidth = $('#rightMenu').width();\r\n        let rmHeight = $('#rightMenu').height();\r\n        if (pageX + rmWidth > window.innerWidth) {\r\n            pageX -= rmWidth + 10;\r\n        }\r\n        if (pageY + rmHeight > window.innerHeight) {\r\n            pageY -= pageY + rmHeight - window.innerHeight;\r\n        }\r\n\r\n\r\n\r\n        rmf.showRightMenu(true, pageY, pageX);\r\n        return false;\r\n    };\r\n\r\n    window.addEventListener('click', function () {\r\n        rmf.showRightMenu(false);\r\n    });\r\n}\r\nif (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))) {\r\n    popupMenu()\r\n}\r\nconst box = document.documentElement\r\n\r\nfunction addLongtabListener(target, callback) {\r\n    let timer = 0 // 初始化timer\r\n\r\n    target.ontouchstart = () => {\r\n        timer = 0 // 重置timer\r\n        timer = setTimeout(() => {\r\n            callback();\r\n            timer = 0\r\n        }, 380) // 超时器能成功执行，说明是长按\r\n    }\r\n\r\n    target.ontouchmove = () => {\r\n        clearTimeout(timer) // 如果来到这里，说明是滑动\r\n        timer = 0\r\n    }\r\n\r\n    target.ontouchend = () => { // 到这里如果timer有值，说明此触摸时间不足380ms，是点击\r\n        if (timer) {\r\n            clearTimeout(timer)\r\n        }\r\n    }\r\n}\r\n\r\naddLongtabListener(box, popupMenu)\r\n\r\n//F12弹窗提示\r\ndocument.onkeydown = function () {\r\n    if (window.event && window.event.keyCode == 123) {\r\n      event.keyCode = 0;\r\n      event.returnValue = true; //可选是否开启F12功能\r\n      swal({\r\n        icon: \"success\",\r\n        text: \"开发者模式已打开，请遵守GPL协议\",\r\n        button: false,\r\n        timer: 1000,\r\n      });\r\n    }\r\n}\r\n```\r\n\r\n### 在主题配置文件中引入js以及jquery依赖\r\n\r\n```yml [_config.butterfly.yml]\r\ninject:\r\n  head:\r\n  - ...\r\n  bottom:\r\n  - ...\r\n  - <script type=\"text/javascript\" src=\"https://cdn1.tianli0.top/npm/jquery@latest/dist/jquery.min.js\"></script>\r\n  - <script type=\"text/javascript\" src=\"/js/rightmenu.js\"></script>\r\n  - ...\r\n```\r\n\r\n> 注意：如果配置后，复制没有弹窗，请导入sweetalert依赖和安装sweetalert\r\n\r\n```yml [_config.butterfly.yml]\r\n\r\ninject:\r\n  head:\r\n  - ...\r\n  bottom:\r\n  - ...\r\n  - <script src=\"https://unpkg.com/sweetalert/dist/sweetalert.min.js\"></script>\r\n  - <script src=\"https://cdn.jsdmirror.com/npm/sweetalert\"></script>\r\n  //unpkg和jsdelivr二选一\r\n  - ...\r\n```\r\n\r\n```shell [npm]\r\nnpm install sweetalert --save\r\n```\r\n\r\n## iconfont图标\r\n\r\n因为少部分图标使用iconfont，你需要自己添加，下载LYX的iconfont图标包，然后解压把里面的东西扔到`[blogRoot]/themes/butterfly/source/css里面即可`\r\n\r\n<a class=\"links-of-author-item yun-icon-btn\" rel=\"noopener\" href=\"https://xydc.lanzouv.com/iRlu409ouaba\" title=\"图标包\" target=\"_blank\" style=\"color: rgb(142, 113, 193);\"><div class=\"icon i-ri-download-2-fill\"></div></a>\r\n"},{"title":"【个人博客网站】博客美化（三）：关于Butterfly的导航栏的一些教程","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n参考了安知鱼的方案进行修改\r\n原教程[butterfly导航栏修改方案(自用方案)](https://anzhiy.cn/posts/8e53.html)\r\n\r\n:::\r\n\r","link":"/posts/meihua/meihua3","content":"\r\n::: tip\r\n\r\n参考了安知鱼的方案进行修改\r\n原教程[butterfly导航栏修改方案(自用方案)](https://anzhiy.cn/posts/8e53.html)\r\n\r\n:::\r\n\r\n> 回到顶部按钮使用的方法引用右键菜单中定义的方法，没有定义的请查看相应位置的注释进行修改\r\n\r\n## 自定义CSS\r\n\r\n添加自定义css`nav_menu.css`\r\n\r\n```css [nav_menu.css]\r\n/* 请根据需要修改 */\r\n\r\n/* 顶部调节 */\r\n#nav {\r\n    transition: 0.3s;\r\n    background: rgba(254, 254, 254, .7);\r\n    backdrop-filter: saturate(180%) blur(20px);\r\n    transition: none !important;\r\n    -webkit-transition: none !important;\r\n    -moz-transition: none !important;\r\n    -ms-transition: none !important;\r\n    -o-transition: none !important;\r\n}\r\n#nav a {\r\n    border-radius: 8px;\r\n    color: #4c4948;\r\n}\r\n#nav a:hover {\r\n    background: #5CA1FF;\r\n    transition: 0.3s;\r\n}\r\n#sidebar #sidebar-menus .menus_items .site-page:hover {\r\n    color: white;\r\n    border-radius: 0 0 5px #5CA1FF;\r\n}\r\n#nav .menus_items .menus_item .menus_item_child li:hover a {\r\n    color: white !important;\r\n}\r\n#nav .menus_items .menus_item .menus_item_child li {\r\n    font-weight: 700;\r\n    margin: 5px;\r\n    border-radius: 5px !important;\r\n    transition: all 0.3s;\r\n}\r\ndiv#menus {\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n#page-header #nav .nav-button a {\r\n    height: 35px;\r\n    width: 35px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n#nav .site-page {\r\n    padding-bottom: 0px;\r\n}\r\n#nav *::after {\r\n    background-color: transparent !important;\r\n}\r\n\r\n/* 百分比显示 */\r\n#nav-totop {\r\n    width: 35px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    transition: 0.3s;\r\n}\r\n#nav-totop:hover .totopbtn i {\r\n    opacity: 1;\r\n}\r\n#nav-totop #percent {\r\n    font-size: 10px;\r\n    background: white;\r\n    color: #5CA1FF;\r\n    width: 25px;\r\n    height: 25px;\r\n    border-radius: 35px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    transition: 0.3s;\r\n    font-weight: 700;\r\n}\r\n.nav-fixed #nav-totop #percent,\r\n.page #nav-totop #percent {\r\n    background: #4c4948;\r\n    color: white;\r\n    font-size: 13px;\r\n}\r\n#page-header:not(.is-top-bar) #percent {\r\n    transition: 0.3s;\r\n}\r\n#page-header:not(.is-top-bar) #nav-totop {\r\n    width: 0;\r\n    opacity: 0;\r\n    transition: width 0.3s, opacity 0.2s;\r\n    margin-left: 0 !important;\r\n}\r\n#nav-totop:hover #percent {\r\n    opacity: 0;\r\n    transform: scale(1.5);\r\n    font-weight: 700;\r\n}\r\n\r\n#page-header #nav #nav-right div {\r\n    margin-left: 0.5rem;\r\n    padding: 0;\r\n}\r\n\r\n/* 按钮调节 */\r\n#nav #search-button {\r\n    font-size: 1.5em;\r\n}\r\n#nav #darkmode_navswitch {\r\n    font-size: 1.3em;\r\n}\r\n.nav-button {\r\n    cursor: pointer;\r\n}\r\n#nav-totop .totopbtn i {\r\n    position: absolute;\r\n    display: flex;\r\n    opacity: 0;\r\n}\r\n\r\n/* 网站名称返回按钮 */\r\n#site-name,\r\n.shuoshuo {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n}\r\n#site-name {\r\n    padding: 5px 8px;\r\n    position: relative;\r\n}\r\n#site-name *:not(i):hover {\r\n    display: none !important;\r\n}\r\n#blog_name #site-name:hover::after {\r\n    opacity: 1;\r\n    transform: scale(1.01);\r\n}\r\n#blog_name #site-name::after {\r\n    opacity: 0;\r\n    background-color: #5CA1FF !important;\r\n    border-radius: 8px;\r\n    -webkit-border-radius: 8px;\r\n    -moz-border-radius: 8px;\r\n    -ms-border-radius: 8px;\r\n    -o-border-radius: 8px;\r\n    transition: 0.3s;\r\n    -webkit-transition: 0.3s;\r\n    -moz-transition: 0.3s;\r\n    -ms-transition: 0.3s;\r\n    -o-transition: 0.3s;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    content: '\\f015';\r\n    box-shadow: 0 0 5px #5CA1FF;\r\n    font-family: 'Font Awesome 6 Free';\r\n    text-align: center;\r\n    color: white;\r\n}\r\n#site-name i {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50% !important;\r\n    transform: translate(-50%, -50%);\r\n    left: 0;\r\n    opacity: 0;\r\n}\r\n#site-name:hover i {\r\n    opacity: 1;\r\n}\r\n\r\n/* 子菜单横向 */\r\n#nav .menus_items .menus_item .menus_item_child li {\r\n    display: inline-block;\r\n}\r\n#nav .menus_items .menus_item:hover .menus_item_child {\r\n    box-sizing: content-box;\r\n    display: block;\r\n    transform: translateX(-50%);\r\n    right: auto;\r\n    left: auto !important;\r\n}\r\n\r\n/* 子菜单空隙 */\r\n#nav .menus_items .menus_item .menus_item_child {\r\n    top: 65px;\r\n}\r\n\r\n/* 圆角隐藏 */\r\nul.menus_item_child {\r\n    overflow: hidden;\r\n    border-radius: 5px;\r\n}\r\n\r\n/* 一级菜单居中 */\r\n#nav .menus_items {\r\n    position: absolute;\r\n    width: fit-content;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n#menus>div.menus_items>div>a {\r\n    letter-spacing: 0.3rem;\r\n    font-weight: 700;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    padding: 0em 0.3em 0em 0.5em;\r\n}\r\n#nav .menus_items .menus_item {\r\n    padding: 20px 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin: auto;\r\n    align-items: center;\r\n}\r\n#nav .menus_items .menus_item>a>i:last-child {\r\n    display: none;\r\n}\r\n\r\n.page #nav a:hover {\r\n    color: white !important;\r\n    background: #5CA1FF;\r\n    transition: 0.3s;\r\n    box-shadow: 0px 0px 5px #5CA1FF;\r\n}\r\n#page-header #nav a:hover,\r\n#page-header.nav-fixed #nav a:hover,\r\n#page-header.nav-fixed #nav #site-name:hover,\r\n#page-header.nav-fixed #nav #toggle-menu:hover {\r\n    color: white;\r\n}\r\n\r\n/* 显示标题回到顶部 */\r\n#page-name::before {\r\n    font-size: 18px;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    border-radius: 8px;\r\n    color: white !important;\r\n    top: 6px;\r\n    left: 0;\r\n    content: '回到顶部';\r\n    background-color: #5CA1FF;\r\n    transition: all 0.3s;\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -ms-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    opacity: 0;\r\n    box-shadow: 0 0 3px #5CA1FF;\r\n}\r\n#page-name:hover:before {\r\n    opacity: 1;\r\n}\r\n#page-name {\r\n    position: relative;\r\n    padding: 10px 30px;\r\n}\r\n\r\n/* 容器布局 */\r\n#name-container {\r\n    transition: all 0.3s;\r\n    -webkit-transition: all 0.3s;\r\n    -moz-transition: all 0.3s;\r\n    -ms-transition: all 0.3s;\r\n    -o-transition: all 0.3s;\r\n    bottom: 60px;\r\n}\r\n#name-container:hover {\r\n    transform: translateX(-50%) scale(1.03);\r\n}\r\ncenter#name-container {\r\n    position: absolute;\r\n    width: 100%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    font-weight: 700;\r\n}\r\n\r\n/* 固定样式 */\r\n.nav-fixed #nav {\r\n    transform: translateY(58px) !important;\r\n    -webkit-transform: translateY(58px) !important;\r\n    -moz-transform: translateY(58px) !important;\r\n    -ms-transform: translateY(58px) !important;\r\n    -o-transform: translateY(58px) !important;\r\n}\r\n.nav-fixed.nav-visible #name-container {\r\n    top: 60px;\r\n    transition: 0.3s;\r\n}\r\n.nav-fixed #name-container {\r\n    top: 15%;\r\n    transition: 0.3s;\r\n}\r\n.nav-fixed.nav-visible #menus .menus_items {\r\n    bottom: -10px;\r\n    transition: 0.3s;\r\n}\r\n.nav-fixed #menus .menus_items {\r\n    bottom: 60px;\r\n    transition: 0.3s;\r\n}\r\n\r\n.mask-name-container {\r\n    width: 1200px;\r\n    height: 100%;\r\n    position: absolute;\r\n    overflow: hidden;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n}\r\n\r\n@media screen and (max-width: 768px) {\r\n    .mask-name-container {\r\n        width: 600px;\r\n    }\r\n}\r\n@media screen and (max-width: 500px) {\r\n    .mask-name-container {\r\n        display: none;\r\n    }\r\n}\r\n```\r\n\r\n## 自定义js\r\n\r\n添加自定义js`nav_menu.js`\r\n\r\n```js [nav_menu.js]\r\nvar OriginTitile = document.title;// 防止和动态标题冲突，保持显示原标题\r\n// 返回顶部 显示网页阅读进度\r\nwindow.onscroll = percent;// 执行函数\r\n// 页面百分比\r\nfunction percent() {\r\n    let a = document.documentElement.scrollTop, // 卷去高度\r\n        b = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight) - document.documentElement.clientHeight, // 整个网页高度 减去 可视高度\r\n        result = Math.round(a / b * 100), // 计算百分比\r\n        btn = document.querySelector(\"#percent\"); // 获取图标\r\n\r\n        result<=100||(result=100),btn.innerHTML=result;\r\n\r\n        document.getElementById(\"page-name\").innerText = OriginTitile.split(\" | 梦念逍遥\")[0] //按照安知鱼的说法，这个放在函数外面也行\r\n}\r\n```\r\n\r\n## main.js\r\n\r\n为了处理顶栏一闪而过的bug，修改本地`themes/butterfly/source/js/main.js`，注意有引用线上版本的话一定要使用本地版本改完再自行上传线上版本\r\n\r\n```js [main.js]\r\n  window.scrollCollect = () => {\r\n        return btf.throttle(function (e) {\r\n          const currentTop = window.scrollY || document.documentElement.scrollTop\r\n          const isDown = scrollDirection(currentTop)\r\n          if (currentTop > 56) {\r\n            $header.classList.add('is-top-bar') // [!code ++]\r\n            if (isDown) {\r\n              if ($header.classList.contains('nav-visible')) $header.classList.remove('nav-visible')\r\n              if (isChatBtnShow && isChatShow === true) {\r\n                chatBtnHide()\r\n                isChatShow = false\r\n              }\r\n            } else {\r\n              if (!$header.classList.contains('nav-visible')) $header.classList.add('nav-visible')\r\n              if (isChatBtnHide && isChatShow === false) {\r\n                chatBtnShow()\r\n                isChatShow = true\r\n              }\r\n            }\r\n            $header.classList.add('nav-fixed')\r\n            if (window.getComputedStyle($rightside).getPropertyValue('opacity') === '0') {\r\n              $rightside.style.cssText = 'opacity: 0.8; transform: translateX(-58px)'\r\n            }\r\n          } else {\r\n            if (currentTop === 0) {\r\n              $header.classList.remove('nav-fixed', 'nav-visible') // [!code --]\r\n              $header.classList.remove('is-top-bar') // [!code ++]\r\n            }\r\n            $rightside.style.cssText = \"opacity: ''; transform: ''\"\r\n          }\r\n\r\n          if (document.body.scrollHeight <= innerHeight) {\r\n            $rightside.style.cssText = 'opacity: 0.8; transform: translateX(-58px)'\r\n          }\r\n        }, 200)()\r\n      }\r\n```\r\n\r\n## index.pug\r\n\r\n修改`themes/butterfly/layout/includes/header/index.pug`\r\n\r\n其中`nav-visible`控制默认显示的是导航栏菜单，替换成`is-top-bar`就是默认显示站点标题\r\n\r\n```pug [index.pug]\r\n  if top_img !== false\r\n    - var imgSource = top_img && top_img.indexOf('/') !== -1 ? `background-image: url('${url_for(top_img)}')` : `background: ${top_img}`\r\n    - var bg_img = top_img ? imgSource : ''\r\n    - var site_title = page.title || page.tag || page.category || config.title\r\n    - var isHomeClass = is_home() ? 'full_page' : 'not-home-page' // [!code --]\r\n    - var isHomeClass = is_home() ? 'full_page nav-fixed nav-visible' : 'not-home-page' // [!code ++]\r\n    - is_post() ? isHomeClass = 'post-bg' : isHomeClass\r\n  else\r\n    - var isHomeClass = 'not-top-img'\r\n```\r\n\r\n## nav.pug\r\n\r\n替换`themes/butterfly/layout/includes/header/nav.pug`\r\n\r\n```pug [nav.pug]\r\n- const { darkmode } = theme\r\nnav#nav\r\n  span#blog_name\r\n    a#site-name(href=url_for('/')) #[=config.title]\r\n\r\n  div.mask-name-container\r\n    center(id=\"name-container\")\r\n        //- 这里换成自己站点的全称\r\n        //- href=\"javascript:rmf.scrollToTop()\"修改为onclick=\"btf.scrollToDest(0,500)\"\r\n      a(id=\"page-name\" href=\"javascript:rmf.scrollToTop()\") 梦念逍遥 - 无梦之境\r\n    \r\n  #menus\r\n    if (theme.algolia_search.enable || theme.local_search.enable)\r\n      div.nav-button#search-button\r\n        a.site-page.social-icon.search\r\n          i.fas.fa-search.fa-fw\r\n    \r\n    if darkmode.enable && darkmode.button\r\n      div.nav-button#darkmode_navswitch\r\n        a.darkmode_switchbutton(type=\"button\" title=_p('rightside.night_mode_title') onclick=\"rmf.switchDarkMode()\")\r\n          i.fas.fa-adjust\r\n\r\n    div.nav-button#nav-totop\r\n      a.totopbtn\r\n        i.fas.fa-arrow-up\r\n        span#percent(onclick=\"btf.scrollToDest(0,500)\") 0\r\n    \r\n\r\n    !=partial('includes/header/menu_item', {}, {cache: true})\r\n\r\n    #toggle-menu\r\n      a.site-page\r\n        i.fas.fa-bars.fa-fw\r\n```\r\n"},{"title":"【个人博客网站】博客美化（四）：加入看板娘","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n具体操作请参考以下文档：\r\n<https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md>\r","link":"/posts/meihua/meihua4","content":"\r\n::: tip\r\n\r\n具体操作请参考以下文档：\r\n<https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md>\r\n\r\n:::\r\n\r\n## 安装插件\r\n\r\n输入以下命令安装\r\n\r\n```shell [npm]\r\nnpm install --save hexo-helper-live2d\r\n```\r\n\r\n## 安装模型\r\n\r\n### npm安装\r\n\r\n输入以下命令安装模型\r\n\r\n```shell [npm]\r\nnpm install --save {packagename}\r\n```\r\n\r\n::: tip 模型名称\r\n\r\n- live2d-widget-model-chitose\r\n- live2d-widget-model-epsilon2_1\r\n- live2d-widget-model-gf\r\n- live2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)\r\n- live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)\r\n- live2d-widget-model-haruto\r\n- live2d-widget-model-hibiki\r\n- live2d-widget-model-hijiki\r\n- live2d-widget-model-izumi\r\n- live2d-widget-model-koharu\r\n- live2d-widget-model-miku\r\n- live2d-widget-model-ni-j\r\n- live2d-widget-model-nico\r\n- live2d-widget-model-nietzsche\r\n- live2d-widget-model-nipsilon\r\n- live2d-widget-model-nito\r\n- live2d-widget-model-shizuku\r\n- live2d-widget-model-tororo\r\n- live2d-widget-model-tsumiki\r\n- live2d-widget-model-unitychan\r\n- live2d-widget-model-wanko\r\n- live2d-widget-model-z16\r\n\r\n:::\r\n\r\n打开hexo配置文件或者主题配置文件，在里面输入配置内容\r\n\r\n```yml [_config.yml]\r\n## Live2D\r\n### https://github.com/EYHN/hexo-helper-live2d\r\nlive2d:\r\n  enable: true #开关插件版看板娘\r\n  scriptFrom: local ## 默认\r\n  ## scriptFrom: https://cdn.cbd.int/live2d-widget@3.x/lib/L2Dwidget.min.js ## 你的自定义 url\r\n  tagMode: false ## 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中\r\n  debug: false ## 调试, 是否在控制台输出日志\r\n  model:\r\n    use: live2d-widget-model-z16 ## npm-module package name\r\n    ## use: https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json ## 你的自定义 url\r\n  display:\r\n    position: left #控制看板娘位置\r\n    width: 150 #控制看板娘大小\r\n    height: 300 #控制看板娘大小\r\n  mobile:\r\n    show: false ## 手机中是否展示\r\n  react:\r\n    opacityDefault: 0.7 ## 默认透明度\r\n    opacityOnHover: 0.2 ## 鼠标移上透明度\r\n```\r\n\r\n### 本地安装\r\n\r\n模型仓库: <https://github.com/xiazeyu/live2d-widget-models>\r\n\r\n1.在博客的根目录中创建`live2d_models`文件夹\r\n\r\n2.在`live2d_models`文件夹内按模型名称创建一个子文件夹\r\n\r\n3.将模型复制到子文件夹\r\n\r\n打开hexo配置文件或者主题配置文件，在里面输入配置内容\r\n\r\n```yml [_config.yml]\r\n## Live2D\r\n### https://github.com/EYHN/hexo-helper-live2d\r\nlive2d:\r\n  enable: true #开关插件版看板娘\r\n  scriptFrom: local ## 默认\r\n  ## scriptFrom: https://cdn.cbd.int/live2d-widget@3.x/lib/L2Dwidget.min.js ## 你的自定义 url\r\n  tagMode: false ## 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中\r\n  debug: false ## 调试, 是否在控制台输出日志\r\n  model:\r\n    use: /live2d_models/模型名称/模型名称.model.json\r\n    ## use: https://unpkg.com/live2d-widget-model-koharu@1.0.5/assets/koharu.model.json ## 你的自定义 url\r\n  display:\r\n    position: left #控制看板娘位置\r\n    width: 150 #控制看板娘大小\r\n    height: 300 #控制看板娘大小\r\n  mobile:\r\n    show: false ## 手机中是否展示\r\n  react:\r\n    opacityDefault: 0.7 ## 默认透明度\r\n    opacityOnHover: 0.2 ## 鼠标移上透明度\r\n```\r\n\r\n## 恭喜，你有了一个可爱的看板娘\r\n"},{"title":"【个人博客网站】博客美化（五）：评论系统以及通知邮件","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n本篇以Valine为例\r\n推荐使用LeanCloud国际版\r\n具体文档地址：<https://github.com/HCLonely/Valine>\r\n\r\n:::\r\n\r\n##","link":"/posts/meihua/meihua5","content":"\r\n::: tip\r\n\r\n本篇以Valine为例\r\n推荐使用LeanCloud国际版\r\n具体文档地址：<https://github.com/HCLonely/Valine>\r\n\r\n:::\r\n\r\n## 使用第三方js\r\n\r\n在主题配置文件中，修改以下内容\r\n\r\n```yml [_config.butterfly.yml]\r\nCDN:\r\n  option:\r\n    ···\r\n    ## gitalk:\r\n    ## gitalk_css:\r\n    ## blueimp_md5:\r\n    valine: https://cdn.jsdmirror.com/gh/HCLonely/Valine@latest/dist/Valine.min.js\r\n    ## disqusjs:\r\n    ## disqusjs_css:\r\n    ## twikoo:\r\n```\r\n\r\n## 配置修改\r\n\r\n在主题配置文件中，修改以下内容\r\n\r\n```yml [_config.butterfly.yml]\r\n\r\n## valine\r\n## https://valine.js.org\r\nvaline:\r\n  appId: \r\n  appKey: \r\n  avatar: ## gravatar style https://valine.js.org/#/avatar\r\n  serverURLs: ## This configuration is suitable for domestic custom domain name users, overseas version will be automatically detected (no need to manually fill in)\r\n  bg: https://butterfly.js.org/img/comment_bg.png ## valine background\r\n  visitor: false\r\n  option:\r\n    enableQQ: true\r\n    emojiCDN: //i0.hdslb.com/bfs/emote/\r\n    recordIP: true\r\n    lang: zh-CN\r\n    placeholder: 发表你的观点及看法&#13;&#10;填写QQ号自动获取QQ昵称和邮箱，昵称需要至少3个字符&#13;&#10;已使用评论邮件提醒功能\r\n    tagMeta: [\"博主\",\"小伙伴\",\"访客\"]\r\n    master: ['']\r\n    friends: ['']\r\n    requiredFields: ['nick','mail','link']\r\n    metaPlaceholder: {\"nick\":\"昵称/QQ号(必填,昵称至少3个字符)\",\"mail\":\"邮箱(选填,填写后如回复会收到邮件)\",\"link\":\"网站链接(选填)\"}\r\n```\r\n\r\n## 评论系统\r\n\r\n### 添加变量\r\n\r\n> 该部分具体查看：<https://github.com/DesertsP/Valine-Admin/blob/master/README.md>\r\n\r\n打开`LeanCloud国际版控制台`\r\n\r\n依次打开`云引擎`、`WEB`、`设置`，添加以下变量\r\n\r\n| 环境变量 | 示例 | 说明 |\r\n| ---- | -------| ----------- |\r\n| SITE_NAME | Deserts | [必填]博客名称 |\r\n| SITE_URL | `https://blog.mnxyio.top` | [必填]首页地址 |\r\n| **SMTP_SERVICE** | QQ | [新版支持]邮件服务提供商，支持 QQ、163、126、Gmail 以及 [更多](https://nodemailer.com/smtp/well-known/#supported-services) |\r\n| SMTP_USER | `xxxxxx@qq.com` | [必填]SMTP登录邮箱 |\r\n| SMTP_PASS | ccxxxxxxxxch | [必填]SMTP登录密码(QQ、163邮箱需要获取独立密码) |\r\n| SENDER_NAME | 梦念逍遥 | [必填]发件人名称 |\r\n| SENDER_EMAIL | `xxxxxx@qq.com` | [必填]发件邮箱(同SMTP登录邮箱) |\r\n| ADMIN_URL | `https://xxx.leanapp.cn/` | [建议]Web主机二级域名（云引擎域名），用于自动唤醒 |\r\n| BLOGGER_EMAIL | `xxxxx@gmail.com` | [可选]博主通知收件地址，默认使用SENDER_EMAIL |\r\n| AKISMET_KEY | xxxxxxxx | [可选]Akismet Key 用于垃圾评论检测，设为MANUAL_REVIEW开启人工审核，留空不使用反垃圾 |\r\n| MAIL_SUBJECT | \\${PARENT_NICK}，您在\\${SITE_NAME}上的评论收到了回复 | [可选]@通知邮件主题（标题）模板 |\r\n| MAIL_SUBJECT_ADMIN | ${SITE_NAME}上有新评论了 | [可选]博主邮件通知主题模板 |\r\n| MAIL_TEMPLATE | 见下文 | [可选]@通知邮件内容模板 |\r\n| MAIL_TEMPLATE_ADMIN | 见下文 | [可选]博主邮件通知内容模板 |\r\n\r\n> 通知邮件内容模板\r\n\r\n```html [index.html]\r\n<div style=\"border-radius: 10px 10px 10px 10px;font-size:13px;color: #555555;width: 666px;font-family:'Century Gothic','Trebuchet MS','Hiragino Sans GB',微软雅黑,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;margin:50px auto;border:1px solid #eee;max-width:100%;background: #ffffff repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);\"><div style=\"width:100%;background:#49BDAD;color:#ffffff;border-radius: 10px 10px 0 0;background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));height: 66px;\"><p style=\"font-size:15px;word-break:break-all;padding: 23px 32px;margin:0;background-color: hsla(0,0%,100%,.4);border-radius: 10px 10px 0 0;\">您在<a style=\"text-decoration:none;color: #ffffff;\" href=\"${SITE_URL}\"> ${SITE_NAME}</a>上的留言有新回复啦！</p></div><div style=\"margin:40px auto;width:90%\"><p>${PARENT_NICK} ，您曾在文章上发表评论：</p><div style=\"background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;\">${PARENT_COMMENT}</div><p>${NICK} 给您的回复如下：</p><div style=\"background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;\">${COMMENT}</div><p>您可以点击<a style=\"text-decoration:none; color:#12addb\" href=\"${POST_URL}#comments\">查看回复的完整內容</a>，欢迎再次光临<a style=\"text-decoration:none; color:#12addb\" href=\"${SITE_URL}\"> ${SITE_NAME}</a>。</p><style type=\"text/css\">a:link{text-decoration:none}a:visited{text-decoration:none}a:hover{text-decoration:none}a:active{text-decoration:none}</style></div></div>\r\n```\r\n\r\n> 博主邮件通知内容模板\r\n\r\n```html [index.html]\r\n<div style=\"border-radius: 10px 10px 10px 10px;font-size:13px;color: #555555;width: 666px;font-family:'Century Gothic','Trebuchet MS','Hiragino Sans GB',微软雅黑,'Microsoft Yahei',Tahoma,Helvetica,Arial,'SimSun',sans-serif;margin:50px auto;border:1px solid #eee;max-width:100%;background: #ffffff repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 1px 5px rgba(0, 0, 0, 0.15);\"><div style=\"width:100%;background:#49BDAD;color:#ffffff;border-radius: 10px 10px 0 0;background-image: -moz-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));background-image: -webkit-linear-gradient(0deg, rgb(67, 198, 184), rgb(255, 209, 244));height: 66px;\"><p style=\"font-size:15px;word-break:break-all;padding: 23px 32px;margin:0;background-color: hsla(0,0%,100%,.4);border-radius: 10px 10px 0 0;\">您的<a style=\"text-decoration:none;color: #ffffff;\" href=\"${SITE_URL}\"> ${SITE_NAME} </a>上有新的评论啦！ </p></div><div style=\"margin:40px auto;width:90%\"><p>${NICK} 发表评论：</p><div style=\"background: #fafafa repeating-linear-gradient(-45deg,#fff,#fff 1.125rem,transparent 1.125rem,transparent 2.25rem);box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15);margin:20px 0px;padding:15px;border-radius:5px;font-size:14px;color:#555555;\">${COMMENT}</div><p><a style=\"text-decoration:none; color:#12addb\" href=\"${POST_URL}#comments\" target=\"_blank\">[查看评论]</a></p><style type=\"text/css\">a:link{text-decoration:none}a:visited{text-decoration:none}a:hover{text-decoration:none}a:active{text-decoration:none}</style></div></div>\r\n```\r\n\r\n### 部署\r\n\r\n依次打开`云引擎`、`WEB`、`部署`，选择`Git部署`\r\n\r\n`Git remote URL`，填写`https://github.com/DesertsP/Valine-Admin.git`\r\n\r\n点击`部署`\r\n\r\n### 新建Class\r\n\r\n依次打开`数据存储`、`结构化仓库`，点击`创建Class`\r\n\r\n`Class名称`为`Comment`，权限为`无限制`，点击`创建`\r\n\r\n### 定时任务\r\n\r\n依次打开`云引擎`、`定时任务`，点击`创建定时任务`\r\n\r\n| 名称 | 环境 | 函数 | 运行周期 |\r\n| ---- | ----| ---- | ----|\r\n| 定时检查邮件 | 生产环境 | resend_mails | Cron表达式：0 00 22,6 \\* \\* ? |\r\n| 自动唤醒 | 生产环境 | self_wake | 间隔时长：20 |\r\n"},{"title":"【个人博客网站】博客美化（六）：添加侧边栏电子钟","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n参考了安知鱼的方案进行修改\r\n原教程[给butterfly添加侧边栏电子钟](https://anzhiy.cn/posts/fc18.html)\r\n\r\n:::\r\n\r\n## ","link":"/posts/meihua/meihua6","content":"\r\n::: tip\r\n\r\n参考了安知鱼的方案进行修改\r\n原教程[给butterfly添加侧边栏电子钟](https://anzhiy.cn/posts/fc18.html)\r\n\r\n:::\r\n\r\n## 安装\r\n\r\n```shell [npm]\r\nnpm install hexo-butterfly-clock-mnxiaoyao --save\r\n```\r\n\r\n## 配置\r\n\r\n在hexo配置文件或主题配置文件中添加\r\n\r\n```yml [_config.yml]\r\nelectric_clock:\r\n  enable: true ## 开关\r\n  priority: 8 #过滤器优先权\r\n  enable_page: all ## 应用页面\r\n  exclude:\r\n    ## - /posts/\r\n    ## - /about/\r\n  layout: ## 挂载容器类型\r\n    type: class\r\n    name: sticky_layout\r\n    index: 0\r\n  loading: https://unpkg.com/hexo-butterfly-clock-mnxiaoyao/lib/loading.gif\r\n  clock_js: https://unpkg.com/hexo-butterfly-clock-mnxiaoyao/lib/clock.min.js\r\n  ip_api: https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0\r\n  qweather_key:  ## 和风天气key\r\n  gaud_map_key:  ## 高德地图web服务key\r\n  default_rectangle: false ## 开启后将一直显示rectangle位置的天气，否则将获取访问者的地理位置与天气\r\n  rectangle: 114.3619304895401,25.401416037847046 ## 获取访问者位置失败时会显示该位置的天气，同时该位置为开启default_rectangle后的位置\r\n```\r\n\r\n> 其中`qweather_key`和`gaud_map_key`默认为空，需要自己去申请\r\n\r\n## 下载图标\r\n\r\n本插件需要本地配置天气图标，否则图标不显示\r\n\r\n下载图标包后，解压放到hexo的`source`文件夹里，密码:97a6\r\n\r\n<a class=\"links-of-author-item yun-icon-btn\" rel=\"noopener\" href=\"https://luanwutian.lanzoum.com/iKG8o0cnic9a\" title=\"天气图标\" target=\"_blank\" style=\"color: rgb(142, 113, 193);\"><div class=\"icon i-ri-download-2-fill\"></div></a>\r\n\r\n## 参数释义\r\n\r\n  |参数|备选值/类型|释义|\r\n  |:--|:--|:--|\r\n  |priority|number|【可选】过滤器优先级，数值越小，执行越早，默认为10，选填|\r\n  |enable|true/false|【必选】控制开关|\r\n  |enable_page|path|【可选】填写想要应用的页面,如根目录就填'/',分类页面就填'/categories/'。若要应用于所有页面，就填`all`，默认为`all`|\r\n  |exclude|path|【可选】填写想要屏蔽的页面，可以多个。写法见示例。原理是将屏蔽项的内容逐个放到当前路径去匹配，若当前路径包含任一屏蔽项，则不会挂载。|\r\n  |layout.type|id/class|【可选】挂载容器类型，填写id或class，不填则默认为id|\r\n  |layout.name|text|【必选】挂载容器名称|\r\n  |layout.index|0和正整数|【可选】前提是layout.type为class，因为同一页面可能有多个class，此项用来确认究竟排在第几个顺位|\r\n  |loading|URL|【可选】电子钟加载动画的图片|\r\n  |clock_css|URL|【可选】电子钟样式CDN资源|\r\n  |clock_js|URL|【可选】电子钟执行脚本CDN资源|\r\n  |ip_api|URL|【可选】获取时钟IP的API|\r\n  |qweather_key|text|【必选】和风天气key|\r\n  |gaud_map_key|text|【必选】高得地图web服务key|\r\n  |default_rectangle|text|【可选】开启后将一直显示rectangle位置的天气，否则将获取访问者的地理位置与天气|\r\n  |rectangle|text|【可选】获取访问者位置失败时会显示该位置的天气，同时该位置为开启default_rectangle后的位置|\r\n\r\n> 注意：使用了该插件，请勿开启TOC简洁模式，否则将出现侧边栏排版错误\r\n"},{"title":"【个人博客网站】博客美化（七）：随机文章显示","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n参考了安知鱼的方案进行修改\r\n原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#random.js%E9%9A%8","link":"/posts/meihua/meihua7","content":"\r\n::: tip\r\n\r\n参考了安知鱼的方案进行修改\r\n原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#random.js%E9%9A%8F%E6%9C%BA%E8%B7%B3%E8%BD%AC%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0)\r\n\r\n:::\r\n\r\n## 闲聊\r\n\r\n在[【个人博客网站】博客美化（二）：制作右键菜单](https://blog.eu.org/posts/meihua2)中，有一个功能一直有问题，那就是`随便逛逛`\r\n\r\n这个功能实现的是随机文章显示，但因为我忽略了某些东西，导致该功能异常\r\n\r\n## 安装\r\n\r\n```shell [npm]\r\nnpm install hexo-generator-sitemap --save\r\n```\r\n\r\n> 这个插件是生成站点地图，用于随机访问文章\r\n\r\n## js\r\n\r\n创建`themes/butterfly/scripts/helpers/random.js`文件\r\n\r\n```js [random.js]\r\nhexo.extend.generator.register('random', function (locals) {\r\n    const config = hexo.config.random || {}\r\n    const posts = []\r\n    for (const post of locals.posts.data) {\r\n        if (post.random !== false) posts.push(post.path)\r\n    }\r\n    return {\r\n        path: config.path || 'mengnianxiaoyao/random.js',\r\n        data: `var posts=${JSON.stringify(posts)};function toRandomPost(){window.open('/'+posts[Math.floor(Math.random() * posts.length)],\"_self\");};`\r\n    }\r\n})\r\n```\r\n\r\n如果你开启了`pjax`，就用下面的代码\r\n\r\n```js [random.js]\r\nhexo.extend.generator.register('random', function (locals) {\r\n    const config = hexo.config.random || {}\r\n    const posts = []\r\n    for (const post of locals.posts.data) {\r\n        if (post.random !== false) posts.push(post.path)\r\n    }\r\n    return {\r\n        path: config.path || 'mengnianxiaoyao/random.js',\r\n        data: `var posts=${JSON.stringify(posts)};function toRandomPost(){pjax.loadUrl('/'+posts[Math.floor(Math.random() * posts.length)]);};`\r\n    }\r\n})\r\n```\r\n\r\n## 配置\r\n\r\n### 插件配置\r\n\r\n> 具体文档地址：<https://github.com/hexojs/hexo-generator-sitemap>\r\n\r\n在hexo配置文件或者主题配置文件中，添加以下内容\r\n\r\n```yml [_config.yml]\r\n## 站点地图\r\nsitemap:\r\n  path: sitemap.xml\r\n  rel: false\r\n  tags: true\r\n  categories: true\r\n```\r\n\r\n### js配置\r\n\r\n在主题配置文件中`inject`的`buttom`项导入\r\n\r\n```yml [_config.butterfly.yml]\r\nbuttom:\r\n    - <script src=\"/mengnianxiaoyao/random.js\"></script>\r\n```\r\n\r\n## 调用\r\n\r\n在需要调用的位置执行`toRandomPost()`函数即可。\r\n\r\n比如任意`dom`添加`onclick=\"toRandomPost()\"`\r\n"},{"title":"【个人博客网站】博客美化（八）：twikoo评论系统以及双评论","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\r\n> 具体文档地址：<https://twikoo.js.org/quick-start.html#vercel-%E9%83%A8%E7%BD%B2>\r\n\r\n## 数据库搭建(MongoDB)\r\n","link":"/posts/meihua/meihua8","content":"\r\n> 具体文档地址：<https://twikoo.js.org/quick-start.html#vercel-%E9%83%A8%E7%BD%B2>\r\n\r\n## 数据库搭建(MongoDB)\r\n\r\n### 创建数据库\r\n\r\n打开[MongoDB](https://www.mongodb.com/cloud/atlas/register)，注册账号\r\n\r\n注册完成，登录`MongoDB`\r\n\r\n创建好`Organizations(组织)`后，点击`Projects`、`New Project`创建项目\r\n\r\n点击`Database`、`Build a Database`创建数据库\r\n\r\n选择`free`、`aws`、`Hong Kong`\r\n\r\n创建用户，选择`My Local Environment`，`IP Adddress`填写`0.0.0.0/0`\r\n\r\n完成创建\r\n\r\n### Vercel部署\r\n\r\nMongoDB控制台`Database`界面，点击`Connect`\r\n\r\n选择`Connect your application`，`DRIVER`选择`Node.js`，复制字符串\r\n\r\n点击以下按钮将 Twikoo 一键部署到 Vercel\r\n[![https://vercel.com/button](https://vercel.com/button)](https://vercel.com/import/project?template=https://github.com/imaegoo/twikoo/tree/main/src/server/vercel-min)\r\n\r\ntwikoo部署完成后，进入项目Settings - Environment Variables，添加环境变量`MONGODB_URI`，值为复制的字符串，替换`<password>`为数据库用户密码\r\n\r\n进入 Deployments , 然后在任意一项后面点击更多（三个点） , 然后点击Redeploy , 最后点击下面的Redeploy\r\n\r\n点击 Domains 下方的链接，如果环境配置正确，可以看到`“Twikoo 云函数运行正常”`的提示\r\n\r\n::: tip\r\n\r\n如果无法访问，请绑定自定义域名，并删除默认域名(默认域名有可能会干扰网站连接数据库)\r\n\r\n:::\r\n\r\nVercel Domains（包含`https://`前缀，例如`https://xxx.vercel.app`）即为您的环境 id\r\n\r\n## 使用Twikoo评论系统\r\n\r\n将环境id填写到主题配置文件的相关位置，并开启使用\r\n\r\n## 开启管理面板\r\n\r\n点击评论窗口的`小齿轮`图标，设置管理员密码\r\n\r\n## 双评论\r\n\r\n在主题配置文件的`Comments System`中，`use`后填写两个不冲突的评论系统\r\n"},{"title":"【个人博客网站】博客美化（九）：开启PWA功能","tags":["博客教程","文档","美化教程"],"categories":["博客","美化教程"],"author":"","excerpt":"\n::: tip\n\n参考了安知鱼的方案进行修改\n原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#%E9%85%8D%E7%BD%AE-pw","link":"/posts/meihua/meihua9","content":"\n::: tip\n\n参考了安知鱼的方案进行修改\n原教程[butterfly 重装日记](https://anzhiy.cn/posts/sdxhu.html#%E9%85%8D%E7%BD%AE-pwa)\n\n:::\n\n::: tip\n\n参考了店长的方案进行修改\n原教程[Butterfly主题的PWA实现方案](https://akilar.top/posts/8f31c3d0/)\n\n:::\n\n## 安装\n\n### 安装Gulp插件\n\n在博客根目录`[Blogroot]`打开终端，输入\n\n```shell [npm]\nnpm install --global gulp-cli #全局安装gulp指令集\nnpm install workbox-build gulp --save #安装gulp插件\n```\n\n### 压缩html插件\n\n```shell [npm]\nnpm install gulp-htmlclean --save-dev\nnpm install --save gulp-htmlmin\n```\n\n### 压缩css插件\n\n```shell [npm]\nnpm install gulp-clean-css --save-dev\n```\n\n### 压缩js插件\n\n```shell [npm]\nnpm install gulp-terser --save-dev\nnpm install --save-dev gulp-babel @babel/core @babel/preset-env\n```\n\n### 压缩图片插件\n\n```shell [npm]\nnpm install --save-dev gulp-imagemin\n```\n\n### 压缩字体插件\n\n```shell [npm]\nnpm install gulp-fontmin --save-dev\n```\n\n## 配置\n\n### 添加\n\n在`package.json`中添加\n\n```json [package.json]\n\"type\": \"module\", // [!code ++]\n\"dependencies\":\n```\n\n### 创建\n\n#### gulpfile.js\n\n在`Hexo`的根目录，创建一个`gulpfile.js`文件,打开`[Blogroot]/gulpfile.js`\n\n```js [gulpfile.js]\nimport gulp from 'gulp';\nimport cleanCSS from 'gulp-clean-css';\nimport htmlmin from 'gulp-htmlmin';\nimport htmlclean from 'gulp-htmlclean';\nimport workbox from 'workbox-build';\nimport fontmin from 'gulp-fontmin';\n\nimport terser from 'gulp-terser';\n\n//pwa\ngulp.task('generate-service-worker', () => {\n  return workbox.injectManifest({\n    swSrc: './sw-template.js',\n    swDest: './public/sw.js',\n    globDirectory: './public',\n    globPatterns: [\n      // 缓存所有以下类型的文件，极端不推荐\n      // \"**/*.{html,css,js,json,woff2,xml}\"\n      // 推荐只缓存404，主页和主要样式和脚本。\n      '404.html',\n      'index.html',\n      'js/main.js',\n      'css/index.css',\n    ],\n    modifyURLPrefix: {\n      '': './',\n    },\n  });\n});\n\ngulp.task('compress', async() =>{\n  gulp\n    .src([\n      './public/**/*.js',\n      '!./public/**/*.min.js',\n      '!./public/js/custom/galmenu.js',\n      '!./public/js/custom/gitcalendar.js',\n    ])\n    .pipe(terser())\n    .pipe(gulp.dest('./public'))\n  });\n\n//css\ngulp.task('minify-css', () => {\n  return gulp\n    .src('./public/**/*.css')\n    .pipe(\n      cleanCSS({\n        compatibility: 'ie11',\n      })\n    )\n    .pipe(gulp.dest('./public'));\n});\n\n// 压缩 public 目录内 html\ngulp.task('minify-html', () => {\n  return gulp\n    .src('./public/**/*.html')\n    .pipe(htmlclean())\n    .pipe(\n      htmlmin({\n        removeComments: true, //清除 HTML 註释\n        collapseWhitespace: true, //压缩 HTML\n        collapseBooleanAttributes: true, //省略布尔属性的值 <input checked=\"true\"/> ==> <input />\n        removeEmptyAttributes: true, //删除所有空格作属性值 <input id=\"\" /> ==> <input />\n        removeScriptTypeAttributes: true, //删除 <script> 的 type=\"text/javascript\"\n        removeStyleLinkTypeAttributes: true, //删除 <style> 和 <link> 的 type=\"text/css\"\n        minifyJS: true, //压缩页面 JS\n        minifyCSS: true, //压缩页面 CSS\n        minifyURLs: true,\n      })\n    )\n    .pipe(gulp.dest('./public'));\n});\n\n//压缩字体\nfunction minifyFont(text, cb) {\n  gulp\n    .src('./public/fonts/*.ttf') //原字体所在目录\n    .pipe(\n      fontmin({\n        text: text,\n      })\n    )\n    .pipe(gulp.dest('./public/fontsdest/')) //压缩后的输出目录\n    .on('end', cb);\n}\n\ngulp.task('mini-font', cb => {\n  var buffers = [];\n  gulp\n    .src(['./public/**/*.html']) //HTML文件所在目录请根据自身情况修改\n    .on('data', function (file) {\n      buffers.push(file.contents);\n    })\n    .on('end', function () {\n      var text = Buffer.concat(buffers).toString('utf-8');\n      minifyFont(text, cb);\n    });\n});\n\n// 执行 gulp 命令时执行的任务\ngulp.task(\n  'default',\n  gulp.series(\n    'generate-service-worker',\n    gulp.parallel('compress', 'minify-html', 'minify-css', 'mini-font')\n  )\n);\n```\n\n### sw-template.js\n\n在`Hexo`的根目录，创建一个`sw-template.js`文件,打开`[Blogroot]/sw-template.js`\n\n```js [sw-template.js]\nconst workboxVersion = '5.1.3';\n\nimportScripts(`https://storage.googleapis.com/workbox-cdn/releases/${workboxVersion}/workbox-sw.js`);\n\nworkbox.core.setCacheNameDetails({\n  prefix: '梦念逍遥',\n});\n\nworkbox.core.skipWaiting();\n\nworkbox.core.clientsClaim();\n\n// 注册成功后要立即缓存的资源列表\n// 具体缓存列表在gulpfile.js中配置，见下文\nworkbox.precaching.precacheAndRoute(self.__WB_MANIFEST, {\n  directoryIndex: null,\n});\n\n// 清空过期缓存\nworkbox.precaching.cleanupOutdatedCaches();\n\n// 图片资源（可选，不需要就注释掉）\nworkbox.routing.registerRoute(\n  /\\.(?:png|jpg|jpeg|gif|bmp|webp|svg|ico)$/,\n  new workbox.strategies.CacheFirst({\n    cacheName: 'images',\n    plugins: [\n      new workbox.expiration.ExpirationPlugin({\n        maxEntries: 1000,\n        maxAgeSeconds: 60 * 60 * 24 * 30,\n      }),\n      new workbox.cacheableResponse.CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n    ],\n  })\n)\n\n// 字体文件（可选，不需要就注释掉）\nworkbox.routing.registerRoute(\n  /\\.(?:eot|ttf|woff|woff2)$/,\n  new workbox.strategies.CacheFirst({\n    cacheName: 'fonts',\n    plugins: [\n      new workbox.expiration.ExpirationPlugin({\n        maxEntries: 1000,\n        maxAgeSeconds: 60 * 60 * 24 * 30,\n      }),\n      new workbox.cacheableResponse.CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n    ],\n  })\n);\n\n// 谷歌字体（可选，不需要就注释掉）\nworkbox.routing.registerRoute(\n  /^https:\\/\\/fonts\\.googleapis\\.com/,\n  new workbox.strategies.StaleWhileRevalidate({\n    cacheName: 'google-fonts-stylesheets',\n  })\n);\nworkbox.routing.registerRoute(\n  /^https:\\/\\/fonts\\.gstatic\\.com/,\n  new workbox.strategies.CacheFirst({\n    cacheName: 'google-fonts-webfonts',\n    plugins: [\n      new workbox.expiration.ExpirationPlugin({\n        maxEntries: 1000,\n        maxAgeSeconds: 60 * 60 * 24 * 30,\n      }),\n      new workbox.cacheableResponse.CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n    ],\n  })\n);\n\n// jsdelivr的CDN资源（可选，不需要就注释掉）\nworkbox.routing.registerRoute(\n  /^https:\\/\\/cdn\\.jsdelivr\\.net/,\n  new workbox.strategies.CacheFirst({\n    cacheName: 'static-libs',\n    plugins: [\n      new workbox.expiration.ExpirationPlugin({\n        maxEntries: 1000,\n        maxAgeSeconds: 60 * 60 * 24 * 30,\n      }),\n      new workbox.cacheableResponse.CacheableResponsePlugin({\n        statuses: [0, 200],\n      }),\n    ],\n  })\n)\n\nworkbox.googleAnalytics.initialize();\n```\n\n### 图标\n\n将你的图标包移入相应的目录，例如我是`/img/siteicon/`，所以放到`[Blogroot]/source/img/siteicon/`目录下。\n\n新建文件名为`manifest.json`并将其放到`[Blogroot]/source`目录下，此时还不能直接用，需要添加一些内容，以下是我的`manifest.json`配置内容，权且作为参考，其中的`theme_color`建议用取色器取设计的图标的主色调，同时务必配置`start_url`和`name`的配置项，这关系到你之后能否看到浏览器的应用安装按钮`(同时，格式一定要是png)`\n\n```json [manifest.json]\n{\n    \"name\": \"梦念逍遥`BLOG\",\n    \"short_name\": \"梦念逍遥\",\n    \"theme_color\": \"#425aef\",\n    \"background_color\": \"#425aef\",\n    \"display\": \"standalone\",\n    \"scope\": \"/\",\n    \"start_url\": \"/\",\n    \"icons\": [{\n        \"src\": \"/img/siteicon/16.png\",\n        \"sizes\": \"16x16\",\n        \"type\": \"image/png\"\n      },\n      {\n        \"src\": \"/img/siteicon/32.png\",\n        \"sizes\": \"32x32\",\n        \"type\": \"image/png\"\n      },\n      {\n        \"src\": \"/img/siteicon/48.png\",\n        \"sizes\": \"48x48\",\n        \"type\": \"image/png\"\n      },\n      {\n        \"src\": \"/img/siteicon/64.png\",\n        \"sizes\": \"64x64\",\n        \"type\": \"image/png\"\n      },\n      {\n        \"src\": \"/img/siteicon/128.png\",\n        \"sizes\": \"128x128\",\n        \"type\": \"image/png\"\n      },\n      {\n        \"src\": \"/img/siteicon/144.png\",\n        \"sizes\": \"144x144\",\n        \"type\": \"image/png\"\n      },\n      {\n        \"src\": \"/img/siteicon/512.png\",\n        \"sizes\": \"512x512\",\n        \"type\": \"image/png\"\n      }\n    ],\n    \"splash_pages\": null\n  }\n```\n\n## 开启PWA\n\n打开主题配置文件`[Blogroot]/_config.butterfly.yml`,找到PWA配置项。添加图标路径。这里的`theme_color`建议改成你图标的主色调，包括`manifest.json`中的`theme_color`也是如此.\n\n```yml [_config.butterfly.yml]\npwa:\n  enable: true\n  manifest: /manifest.json\n  theme_color: \"#3b70fc\"\n  apple_touch_icon: /img/siteicon/128.png\n  favicon_32_32: /img/siteicon/32.png\n  favicon_16_16: /img/siteicon/16.png\n  mask_icon: /img/siteicon/128.png\n```\n\n运行命令\n\n```shell [shell]\nhexo cl&&hexo g&&gulp\n## 之后运行\nhexo s 或者 hexo de\n```\n"},{"title":"大学新生报道需要注意的几个坑","tags":["事项"],"categories":["事项须知"],"author":"","excerpt":"\r\n## 前言\r\n\r\n每年的大学开学，新生总是很多。刚进入大学校园的新生们，啥也不懂，然后······\r\n\r\n## 需要注意的坑（一）：远离热心的学长学姐以及办校园卡\r\n\r\n这里不是讽刺啊，亲生经历啊","link":"/posts/other/baodao","content":"\r\n## 前言\r\n\r\n每年的大学开学，新生总是很多。刚进入大学校园的新生们，啥也不懂，然后······\r\n\r\n## 需要注意的坑（一）：远离热心的学长学姐以及办校园卡\r\n\r\n这里不是讽刺啊，亲生经历啊。远离热心的学长学姐总没错，当然穿着志愿者服的除外。热心的学长学姐们总是以帮新生拿行李并且带到宿舍为理由，拉近与新生的距离，当然，我遇到的学姐倒是没有别的心思。拉近距离后呢，把新生带到宿舍后，让他们放好行李和他/她一起去办校园卡。或者说，当新生到达宿舍后，会有学长学姐来到宿舍，叫你去办校园卡。这里的校园卡，不是校园一卡通，是校园套餐的手机卡。校园一卡通早在办完入学手续后就会发放到手，不需要另外办理。\r\n学长学姐帮助新生办卡，是会有提成的，一个人50元，总是会有钱拿的。他们可能会以不办校园卡，就无法使用网络等理由叫新生办卡，但，这是真的必须的吗？\r\n可能每个大学的规定不一样，有一定要办卡的也有，但不是占大多数。绝大多数的学校都没有这个规定，所以不是必须的，另外办卡也大可不必。每个新生我估计都有一张正在使用的手机卡，如果是外地的新生，还是要办一张，本地的，就把手机卡的套餐换成其他划算的流量套餐。宿舍内的网络，应该都有网线接口和wifi覆盖。想要使用，就得进行验证，所以需要宽带套餐，这个如果可以，请另外办理，不要办理校园套餐（虽然这个套餐会送一年的宽带）。总的来说，校园套餐黑到不行，因为到第二年，宽带需要自己办理，在校园套餐的基础上，额外收钱。每个学校的运营商的套餐都不一样，这里仅以我的学校当例子，了解清楚后，再自行考虑要不要办，真的划算就办吧。\r\n关于宽带的问题，有的学校是可以自行拉线的，不需要走校内交换机，一般这种情况建议直接办宽带，不要选择校园宽带套餐。\r\n\r\n## 需要注意的坑（二）：千万别得罪辅导员，一旦得罪，就得罪死吧\r\n\r\n辅导员这一阶层，权力是在大学权力等级只比学生高一点的层次，但好歹也有是个官，一不小心得罪了，说不定在什么时候就给穿双小鞋，能不得罪就尽量不要去得罪。但得罪了，就必须得罪死。比如在自身利益方面，本来自己应得的，因为辅导员的关系，导致没有了，但辅导员却不愿去挽救，那就请比辅导员更大的官去压，直到辅导员行动为止，但这样一来，难保不会得罪到辅导员，所以得罪死，是最好的选择。\r\n\r\n## 需要注意的坑（三）：请主动学习\r\n\r\n到了大学，没人会逼迫你去学习，能学到多少，全靠自己的自觉，被动学习在大学中是不存在的，不要以为在大学里，老师会像高中一样逼着你去学习。只有自己主动学习，大学毕业后才会有出路（个别家里有矿的除外）。\r\n\r\n## 需要注意的坑（四）：天天说玩的，暗地里可能比谁都卷\r\n\r\n在大学里，别以为就没有像高中一样天天卷的卷王了，说不卷的，都在放屁。上了大学了，该要的不该要的，都应该分明白。那些个天天说玩的，天天在玩的，暗地里，都在卷呢，他们可能在你看不到的地方，努力学习。如果真被他们嘴上的话给忽悠了，那你活该知道吧。\r\n\r\n## 总结\r\n\r\n该说的话都说完了，如果要补充的，后续还会补充进来。总之呢，都是大学生了，大学就像一个小型的社会，多扩充自己，等真正出了社会，才会游刃有余。\r\n"},{"title":"欢迎来到我的博客","tags":[],"categories":["初见"],"author":"","excerpt":"Hello！各位小伙伴们，欢迎来到我的博客。\n\n在这里，和我一起学习吧！\n","link":"/posts/other/welcome","content":"Hello！各位小伙伴们，欢迎来到我的博客。\n\n在这里，和我一起学习吧！\n"},{"title":"赛尔号Flash页游工具使用答疑","tags":["赛尔号","工具"],"categories":["赛尔号工具"],"author":"","excerpt":"\n> [赛尔号Flash页游各种工具下载](https://blog.mnxyio.top/posts/seer/tools)\n\n## chika\n\n### flash版本过低或太旧\n\n直接刷新看是否","link":"/posts/seer/faq","content":"\n> [赛尔号Flash页游各种工具下载](https://blog.mnxyio.top/posts/seer/tools)\n\n## chika\n\n### flash版本过低或太旧\n\n直接刷新看是否显示游戏界面，不行就更新flash版本，使用flash中心修复flash组件。\n\n### 弹窗`运行时出错`\n\n部分插件或魔法有问题，直接重启chika\n\n### 在登录页面点击`开始`按钮不弹出账号页面\n\nchika工具栏：拓展 -> 清除缓存\n\n控制面板：网络和 Internet -> Internet 选项，按下图操作\n\n![Clip_2024-07-09_15-20-58](https://i0.hdslb.com/bfs/article/c92c41096d88bc2a684e8b7d5fb71ae4381745966.png)\n\n### 打不开或者双击无响应\n\n设置 -> 系统 -> 关于 ->高级系统设置，将chika添加后保存\n\n![Clip_2024-07-09_15-24-40](https://i0.hdslb.com/bfs/article/f8781791ba0339de3e49747162f0a57b381745966.png)\n\n## 雷小伊\n\n### 打开脱机后，显示完`欢迎你嘞使用`就没有程序界面\n\n检查网络环境，尝试使用数据热点后再打开\n\n### 创建表失败\n\n数据库文件损坏，删除data文件夹内的全部文件\n\n### 在登录页面点击`开始`按钮不弹出账号页面\n\n工具栏：菜单 -> 清除缓存\n\n### 脱机点击`自定义脚本`就显示运行时出错\n\n有脚本文件出问题了，将Script文件夹内的脚本文件全部移出后试试\n\n### 登录器显示`已取消网页导航`\n\n大概率是缓存问题，清理缓存后试试\n\n将赛尔号网址加入hosts文件内（此操作自行百度）\n\n### vc++运行库未安装\n\n安装vc++运行库后打开\n\n### 脱机运行脚本导致84精灵升级\n\n脱机无法在h5内关闭电池，大概率是在h5运行了84脚本\n\n### 登录器或脱机界面显示`锟斤拷`等乱码字符\n\n控制面板：时钟和区域 -> 区域，取消Beta版语言\n\n![Clip_2024-07-09_15-38-46](https://i0.hdslb.com/bfs/article/72cca11c7a6f997489b637c2fbc82832381745966.png)\n\n### 脱机编写脚本输入字符全是`?`号\n\n可能输入法编码存在问题，换一个输入法试试\n\n## TO\n\nTO登录器安装时会检查系统环境，缺少.NET运行库会自动下载并显示安装弹窗，请不要取消安装运行库。当网络较差时，.NET运行库下载速度会非常的慢，可以去[.NET下载网站](https://dotnet.microsoft.com/zh-cn/download/dotnet-framework)自行下载。到安装结束都没有什么问题，那就是安装成功。如果出现各种问题请去TO登录器的QQ群反馈\n\n## 重聚\n\n### 重聚巅峰更新显示文件占用\n\n请不要修改重聚巅峰的文件名\n\n### 重聚更新失败\n\n去网盘手动下载\n\n### 插件中心选择未下载的插件后点击运行没有反应\n\n请点击`下载选中`按钮进行手动下载"},{"title":"赛尔号辅助启动器","tags":["赛尔号","工具"],"categories":["赛尔号工具"],"author":"","excerpt":"\n## 简介\n你是否因为辅助程序的文件过多而浪费大量时间去寻找本体程序？你是否因为辅助程序所在位置不同而要去浪费时间寻找？现在`赛尔号辅助启动器`就可以解决这些问题！\n\n## 功能介绍\n\n#### 关","link":"/posts/seer/launcher","content":"\n## 简介\n你是否因为辅助程序的文件过多而浪费大量时间去寻找本体程序？你是否因为辅助程序所在位置不同而要去浪费时间寻找？现在`赛尔号辅助启动器`就可以解决这些问题！\n\n## 功能介绍\n\n#### 关键字操作\n\n![PixPin_2025-04-11_17-35-21](https://i0.hdslb.com/bfs/article/c353dfbf0544b6c567445e50658b3b7c381745966.png)\n\n如图，在关键字显示框中，可进行右键菜单快速操作关键字的`添加`、`修改`、`删除`，双击关键字也可进行快速删除（需要用户确认操作）\n\n#### 程序操作\n\n![PixPin_2025-04-11_17-35-31](https://i0.hdslb.com/bfs/article/1734e2cefaece51b9c0602b39040dff5381745966.png)\n\n如图，在程序显示框中，双击程序可以快速启动，右键菜单也可以进行各种快速操作。在没有选择程序时，点击`打开所在/运行目录`按钮时，仅会打开启动器所在的目录\n\n添加程序时需要注意的是，当你添加多个同名但不同目录的程序时，仅会存在一个同名程序，也就是说，只会显示最后添加的那个程序。如果需要添加多个该程序，你需要修改不同目录的这个程序的名称，使它们不同名，然后再把它们添加进来。\n\n### 下载地址\n\n本启动器由[本人](https://space.bilibili.com/381745966)开发，在赛尔号辅助群首次发布，123盘地址也可下载，其他地方均不能保证安全无毒\n\n下载地址：<https://www.123912.com/s/1M3KVv-wz2sH>\n"},{"title":"赛尔号Flash页游各种工具下载","tags":["赛尔号","工具"],"categories":["赛尔号工具"],"author":"","excerpt":"\n## CHIKA\n\n> 下载链接：<https://yoso.lanzouq.com/b015y77ch>\n\n>YoSo赛尔器下载链接：<https://yoso.lanzouq.com/s/yos","link":"/posts/seer/tools","content":"\n## CHIKA\n\n> 下载链接：<https://yoso.lanzouq.com/b015y77ch>\n\n>YoSo赛尔器下载链接：<https://yoso.lanzouq.com/s/yoso>\n\n> 论坛：~~<https://bbs.yoso.live>~~ 不可访问\n\n老牌登录器，庞大的用户社区，就是论坛时不时会炸，还因为论坛而一直摆烂\n\n## 雷小伊\n\n> 下载链接：<https://lxy.lanzouq.com/b052mtlbg>\n\n> 论坛：<https://bbs.tiepi.top>\n\n新晋的登录器，脱机功能强大到爆炸，但SDK迟迟未出，很多依赖SDK的脚本无法编写\n\n## TO\n\n> 下载链接：<https://share.weiyun.com/Qx6QI7zO>\n\n流传于贴吧的双端登录器，比其他登录器的区别在于它是64位的，但优点也就这个了。因为是个传说，论坛都没有，脚本啥的都是群文件，还没有变速借火一键压血等快捷功能\n\n## 重聚\n\n> 下载链接：<https://wwu.lanzouq.com/s/cjdf>\n\n专注于巅峰方面，但脱机插件也是蛮强的（穷哥们可以忽略，大部分得氪金精灵）。虽然大部分功能需要赞助，核心功能却是没有限制的\n\n## XM\n\n> 下载链接：<https://hybbx.lanzoue.com/s/xmseer>\n\n脱机魔法无敌！！！挽歌牛逼\n\n## CleanFlash\n\n> 下载链接：<https://gitlab.com/cleanflash/installer/-/releases>\n\n干净无广的flash插件\n\n## VC++运行库\n\n> 下载链接：<https://www.123865.com/s/1M3KVv-KrWsH>\n\n电脑必不可少的dll运行库，缺少了这个，大部分绿色软件是无法运行的，登录器也会无法运行"},{"title":"XM脱机魔法编写","tags":["赛尔号","XM脱机","工具"],"categories":["赛尔号工具"],"author":"","excerpt":"\n本篇旨在记录本人使用XM脱机进行魔法编写中的一些所得，感谢[@雪落挽歌](https://space.bilibili.com/588824554)晚上还在为我解答问题。\n\n先鸽着。。。","link":"/posts/seer/xm","content":"\n本篇旨在记录本人使用XM脱机进行魔法编写中的一些所得，感谢[@雪落挽歌](https://space.bilibili.com/588824554)晚上还在为我解答问题。\n\n先鸽着。。。"},{"title":"网站托管服务——Vercel、Netlify、Zeabur","tags":["文档","白嫖教程","博客教程"],"categories":["博客","托管平台"],"author":"","excerpt":"\n## 前言\n\n我的博客使用[Vercel](https://vercel.com/)以及[Netlify](https://netlify.com/)部署，这两个网站托管服务都很不错 。还有一个[Z","link":"/posts/source/source1","content":"\n## 前言\n\n我的博客使用[Vercel](https://vercel.com/)以及[Netlify](https://netlify.com/)部署，这两个网站托管服务都很不错 。还有一个[Zeabur](https://zeabur.com)，它提供的服务也不亚于其他两个服务提供商\n\n## Vercel\n\n> 文档：<https://vercel.com/docs>\n\n`Vercel`是一个网站托管服务平台，开发者可以将自己的网络应用部署、托管在平台上运行。Vercel支持30多种前端框架，开发者可以快速部署自己的项目，同时支持自定义域名、代码提交触发部署。\n\n`Vercel`的前身叫`ZEIT`，做的产品有`Next.js`（`React SSR`框架），`Hyper`（桌面终端应用，使用Electron编写），其创办人`Guillermo Rauch`也是`socket.io`和`mongoose`的作者。\n\n详细的不多说，挑重点讲。\n\n`Vercel`每天有`100`次构建次数，不限构建时间，只要次数没用完都可以构建。可以链接GitHub账号部署仓库代码。有很多模板库使用。\n\n![image-20230920193036329](https://article.biliimg.com/bfs/article/124fce76fee4ad6d15ca7c01f73ec936381745966.png)\n![image-20230920202710032](https://article.biliimg.com/bfs/article/34b97318629d191454bf8f97ac6f0bb7381745966.png)\n\n## Netlify\n\n> 文档：<https://docs.netlify.com/>\n\nNetlify是一个提供静态资源网络托管的综合平台，提供CI服务，能够将托管GitHub，GitLab等网站上的Jekyll，Hexo，Hugo等代码自动编译并生成静态网站。Netlify有如下的功能：能够托管服务，免费CDN能够绑定自定义域名，能够启用免费的TLS证书，启用HTTPS支持自动构建提供Webhooks和API使用 。\n\n你可以使用你的GitHub账号登陆Netlify，登陆后进入空间管理中心，点击New site from git按钮开始部署你的博客。\n\n每月`100GB`带宽、`300`分钟构建时间以及`1M`的边缘函数调用。和Vercel一样，可以链接GitHub。\n\n![image-20230920200404831](https://article.biliimg.com/bfs/article/bfa66fee6cbed4e6ace0038a2b24a444381745966.png)\n![image-20230920202422404](https://article.biliimg.com/bfs/article/ed704498e7e08da1fb2dbdcad6a91db8381745966.png)\n\n## Zeabur\n\n> 文档：<https://docs.zeabur.com/>\n\nZeabur是新兴的网站托管服务，是一个可以帮助您部署服务的平台，无论您使用什么编程语言或开发框架，您都只需要通过几个简单的按钮进行部署。 Zeabur 还处于开发阶段，目前只支持部分编程语言及服务，但平台正持续增加支持服务数量。Zeabur 可以自动地分析项目的代码，来判断项目使用的是什么编程语言或开发框架。它是国人创办的，可以支持一下。\n\n免费订阅有5美元的额度，~~需要每7天续约一次，绑定支付方式可无需手动续约~~ 疑似取消限制，当然超出的额度需要付费(没有绑定支付方式会导致服务全部停机)。绑定的支付方式有两种，一是信用卡，二是支付宝。绑定支付宝需要缴纳一次性3.99元的绑定费用。\n\n![image-20230920201352626](https://article.biliimg.com/bfs/article/14c6c600c7f98af82c7e15551a576411381745966.png)\n"},{"title":"Vercel被GFW、Netlify打不开？一招解决！","tags":["Cloudflare","文档","白嫖教程","博客教程"],"categories":["博客","托管平台"],"author":"","excerpt":"\n## 前言\n\n在10月份的时候，博客突然无法访问了，后续得知是`Vercel`被`GFW`了，我就换成了`Netlify`进行托管。好景不长，在12月份的时候就出现部分运营商网络打不开的情况。\n\n#","link":"/posts/source/source2","content":"\n## 前言\n\n在10月份的时候，博客突然无法访问了，后续得知是`Vercel`被`GFW`了，我就换成了`Netlify`进行托管。好景不长，在12月份的时候就出现部分运营商网络打不开的情况。\n\n## 准备\n\n- 一个`Cloudfare`账号\n- 一个已经在`Cloudflare`账号下的域名\n\n## 步骤\n\n### Cloudflare设置\n\n打开`Cloudflare`仪表盘，在主页点击你的域名\n\n![image-20240104191606971](https://i0.hdslb.com/bfs/article/6398abe1cbbcca9745653d7cf72f1a7e381745966.png)\n\n侧边栏依次点击`SSL/TLS` -> `概述`\n\n![image-20240104191832886](https://i0.hdslb.com/bfs/article/0d3c6eecdf972717154e134bb76c9be1381745966.png)\n\n将加密模式由`灵活`改成`完全`（这关系到能否访问`Vercel`部署的站点）\n\n![image-20240104191919745](https://i0.hdslb.com/bfs/article/9d8514c80f776a8bcfbbbcad6c35e584381745966.png)\n\n### Vercel\n\n将需要添加域名的项目添加好域名，然后在`Cloudflare`的`DNS`设置中添加`CNAME`记录，一定要勾选`Cloudflare`代理\n\n![image-20240104192424309](https://i0.hdslb.com/bfs/article/4a70e2b05d088378de8e9572d48de6d3381745966.png)\n\n### Netlify\n\n和`Vercel`同样操作\n"},{"title":"Valaxy博客框架配置","tags":["Valaxy","文档","博客教程"],"categories":["博客","Valaxy配置"],"author":"","excerpt":"\n> 文档地址：<https://valaxy.site/guide/config/>\n\n## 基础配置\n\n基础配置不多说，官方文档给的还算详细\n\n## 拓展配置\n\n这里选几个来说吧\n\n### 使用 ","link":"/posts/valaxy/config","content":"\n> 文档地址：<https://valaxy.site/guide/config/>\n\n## 基础配置\n\n基础配置不多说，官方文档给的还算详细\n\n## 拓展配置\n\n这里选几个来说吧\n\n### 使用 vite-plugin-pwa\n\n> 文档地址：<https://vite-pwa-org-zh.netlify.app/deployment/>\n\n在根目录新建`vite.config.ts`文件并添加以下配置：\n\n```ts [vite.config.ts]\nimport { defineConfig } from 'vite'\nimport { VitePWA } from 'vite-plugin-pwa'\n\nexport default defineConfig({\n    plugins: [\n        VitePWA({\n            mode: 'production',\n            registerType: 'autoUpdate',\n            includeAssets: ['favicon.svg', 'safari-pinned-tab.svg'],\n            manifest: {\n                id: '/',\n                start_url: '/',\n                name: '梦念逍遥のBLOG',\n                short_name: '梦念逍遥のBLOG',\n                description: '这是一个很棒的博客',\n                theme_color: '#0078E7',\n                icons: [\n                    {\n                        src: 'pwa-144x144.png',\n                        sizes: '144x144',\n                        type: 'image/png'\n                    },\n                    {\n                        src: 'pwa-512x512.png',\n                        sizes: '512x512',\n                        type: 'image/png'\n                    }\n                ],\n                screenshots: [\n                    {\n                        'src': 'screenshot-pc.jpg',\n                        'sizes': '1920x1080',\n                        'platform': 'pc',\n                        'type': 'image/jpg',\n                        'form_factor': 'wide',\n                    },\n                    {\n                        'src': 'screenshot-mobile.jpg',\n                        'sizes': '1182x1920',\n                        'platform': 'mobile',\n                        'type': 'image/jpg',\n                        'form_factor': 'narrow',\n                    }\n                ]\n            },\n            workbox: {\n                skipWaiting: true,\n                clientsClaim: true,\n                globDirectory: 'dist',\n                cacheId: 'blog-cache',\n                globPatterns: [\"**\\/*.{js,css,html,png,jpg,svg,webp,woff,woff2,ttf,cur}\"],\n                navigateFallbackDenylist: [/\\/atom\\.(xml|atom|json)/], // 排除rss文件路径\n                runtimeCaching: [\n                    {\n                        urlPattern: /^https:\\/\\/(cdn|fastly|gcore|testingcf|quantil|originfastly)\\.jsdelivr\\.net/,\n                        handler: 'StaleWhileRevalidate',\n                    },\n                    {\n                        urlPattern: /^https:\\/\\/unpkg\\.com/,\n                        handler: 'StaleWhileRevalidate',\n                    },\n                    {\n                        urlPattern: /\\.*\\.(?:js|css|png|jpg|svg|webp|woff|woff2|ttf|cur)/,\n                        handler: 'StaleWhileRevalidate',\n                    },\n                    {\n                        urlPattern: /^https:\\/\\/fonts\\.(googleapis|gstatic)\\.com/,\n                        handler: 'CacheFirst',\n                        options: {\n                            cacheName: 'network-fonts-cache',\n                            expiration: {\n                                maxEntries: 100,\n                                maxAgeSeconds: 60 * 60 * 24 * 365\n                            },\n                            cacheableResponse: {\n                                statuses: [0, 200]\n                            }\n                        }\n                    },\n                ],\n            },\n        }),\n    ],\n})\n```\n\n在根目录新建`index.html`：\n\n```html [index.html]\n<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta name=\"viewport\" content=\"width=device-width,initial-scale=1\">\n    <meta name=\"referrer\" content=\"no-referrer\">\n    <title>梦念逍遥のBLOG</title>\n    <meta name=\"description\" content=\"这是一个很棒的博客\">\n    <link rel=\"icon\" href=\"./favicon.svg\">\n    <link rel=\"apple-touch-icon\" href=\"./safari-pinned-tab.svg\" sizes=\"180x180\">\n    <meta name=\"theme-color\" content=\"#0078E7\">\n</head>\n\n<body>\n</body>\n\n</html>\n```\n\n在根目录新建`setup`文件夹并在其中新建`main.ts`：\n\n```ts [main.ts]\n// setup/main.ts\nimport { defineAppSetup } from 'valaxy'\nimport { registerSW } from 'virtual:pwa-register'\n\nexport default defineAppSetup(() =>{\n  registerSW({\n    immediate: true,\n  })\n})\n```\n\n在`package.json`中添加：\n\n```json [package.json]\n{\n    ···\n    \"type\": \"module\", // [!code ++]\n    ···\n}\n```\n\n在`tsconfig.json`中添加：\n\n```json [tsconfig.json]\n{\n    ···\n    \"types\": [ // [!code ++]\n      \"vite-plugin-pwa/client\" // [!code ++]\n    ], // [!code ++]\n\t···\n}\n```\n\n### 使用图标库\n\nvalaxy和默认主题的图标库为`@iconify-json/ant-design`、`@iconify-json/logos`、`@iconify-json/ri`、`@iconify-json/simple-icons`、`@iconify-json/vscode-icons`\n\n如果想使用其它图标，可以在[`Icônes`](https://icones.js.org)里选取图标库并安装，安装完成即可直接使用\n\n![Clip_2024-02-05_18-16-33](https://i0.hdslb.com/bfs/article/f733e4936054f95c4ae4156938511b59381745966.png)\n\n![Clip_2024-02-05_18-19-31](https://i0.hdslb.com/bfs/article/738ad674225c354dca3f4a2d8eb08c00381745966.png)\n\n### 自定义覆盖主题组件\n\n> 文档地址：<https://valaxy.site/guide/custom/components>\n\n首先需要安装`valaxy-addon-components`：\n\n```shell [pnpm]\npnpm add valaxy-addon-components\n```\n\n在`valaxy.config.ts`中配置：\n\n```ts [valaxy.config.ts]\nimport { defineValaxyConfig } from 'valaxy'\nimport { addonComponents } from 'valaxy-addon-components' // [!code ++]\n\nexport default defineValaxyConfig({\n  // site config see site.config.ts\n  ···\n  addons: [ // [!code ++]\n    addonComponents() // [!code ++]\n  ], // [!code ++]\n  ···\n})\n```\n\n在博客文件夹中 `components` 目录下，新建 `YunFooter.vue` 覆盖你的主题页脚文件。\n\n```vue [YunFooter.vue]\n<template>\n  <div>页脚内容</div>\n</template>\n```\n\n也可以继承扩展此前的页脚：\n\n```vue [YunFooter.vue]\n<script lang=\"ts\" setup>\nimport YunFooter from 'valaxy-theme-yun/components/YunFooter.vue'\n</script>\n\n<template>\n  <YunFooter>\n    自定义页脚内容\n  </YunFooter>\n</template>\n```\n\n"},{"title":"白嫖Cloudflare优选IP给Vercel网站加速","tags":["Cloudflare","域名","文档","白嫖教程"],"categories":["白嫖教程","CDN"],"author":"","excerpt":"\n::: tip\n\n本教程参考以下内容\n\n> [CloudFlare公共优选Cname域名地址](https://www.baota.me/post-411.html)\n>\n> [CloudFlare","link":"/posts/tech/cdn","content":"\n::: tip\n\n本教程参考以下内容\n\n> [CloudFlare公共优选Cname域名地址](https://www.baota.me/post-411.html)\n>\n> [CloudFlare SAAS(cname) 接入网站域名](https://www.baota.me/post-413.html)\n>\n> [白嫖Cloudflare最优CDN给自己网站加速，尽情享受CF的免费服务](https://www.bilibili.com/video/av1306011539/)\n\n:::\n\n## 准备\n\n- 一个`Cloudflare`账号并绑定支付渠道（没有信用卡的，可使用国区PayPal绑定银联）\n- 两个托管在`Cloudflare`的域名，或一个托管在`Cloudflare`另一个托管在国内DNS服务商\n\n> 注意：必须是两个域名，不能是顶级域分出的子域名\n\n## 配置\n\n### 回源域名创建回退源地址\n\n> 以123.com为例\n\n在第一个域名中，DNS -> 记录\n\n![Clip_2024-07-05_19-11-48](https://i0.hdslb.com/bfs/article/aca2dc79b026057d554aa7eb3ec905ea381745966.png)\n\n创建一个A类型的记录\n\n> origin可以是@也可以是任意的子域名前缀，但我比较建议使用子域名创建。\n>\n> 76.76.21.21是Vercel的IP地址\n>\n> 代理状态（小云朵）务必开启，如果关闭您后续添加在自定义主机名里面的网站域名将全部回源。\n\n### 自定义主机名添加回退源地址\n\n同样在这个域名中，SSL/TLS -> 自定义主机名（这里需要绑定支付渠道）\n\n![Clip_2024-07-05_18-54-42](https://i0.hdslb.com/bfs/article/7840db93c99a0da836dc666b29c9a6a5381745966.png)\n\n将上面创建的回源域名添加进回退源中\n\n### 自定义主机名添加网站域名\n\n::: warning\n\n确保回退源已经生效\n\n:::\n\n![Clip_2024-07-05_19-21-42](https://i0.hdslb.com/bfs/article/0c0fdeb6315d4b8e8f19eed046afa4fa381745966.png)\n\n这里填写你想要在Vercel项目上配置的域名，例如blog.456.com或456.com\n\n### 域名验证及优选IP\n\n> 以456.com为例\n>\n> 这部分如果你只有两个域名，cloudflare和国内DNS服务商配置二选一即可\n\n#### 在Cloudflare上验证\n\n在第二个域名中，DNS -> 记录，分别添加两个txt记录，其中\n\n![Clip_2024-07-05_19-26-37](https://i0.hdslb.com/bfs/article/1623176161b567398d959f13e970dad6381745966.png)\n\n![Clip_2024-07-05_19-27-09](https://i0.hdslb.com/bfs/article/117d9ee5ab6fe16ba4d9ff8aa0303e25381745966.png)\n\n> 举个例子：如果是456.com，那么就按照如图所示添加；如果是blog.456.com，那么都要加.blog\n\n回到第一个域名，刷新，看证书状态和主机名是否都有效\n\n#### 在Cloudflare上配置优选域名\n\n> ~~这里以社区解析`yx.887141.xyz`为例~~ 此解析已无效，请选择第一篇参考内容里的任意社区解析使用\n>\n> Cloudflare不能直接cname社区解析上\n\n在第一个域名中，DNS -> 记录\n\n![Clip_2024-07-05_19-37-05](https://i0.hdslb.com/bfs/article/667aad2c48a014e9b5238a0b1276df0b381745966.png)\n\n在第二个域名中，DNS -> 记录\n\n![Clip_2024-07-05_19-39-14](https://i0.hdslb.com/bfs/article/8233eb29f5fd2013e057f639f56df393381745966.png)\n\n> blog是blog.456.com，cdn.123.com是上面创建的优选域名\n\n#### 在国内DNS服务商上验证\n\n> 以DNSPod为例，使用DCV委派\n\n![Clip_2024-07-05_19-50-56](https://i0.hdslb.com/bfs/article/2cd8ded03e579b6b2c2886eb2ec2c432381745966.png)\n\n![Clip_2024-07-05_19-56-09](https://i0.hdslb.com/bfs/article/2e7eb749820792c5b616d4f538912a13381745966.png)\n\n> hostname如果为blog.456.com，则DNSPod中填写的主机记录为_acme-challenge.blog，记录值为blog.456.com.打码内容\n>\n> hostname如果为456.com，则DNSPod中填写的主机记录为_acme-challenge，记录值为456.com.打码内容\n\n然后添加\n\n#### 在国内DNS服务商上配置优选域名\n\n![Clip_2024-07-05_19-58-41](https://i0.hdslb.com/bfs/article/876a4565251f23283f5228f2cf51d5b1381745966.png)\n\n![Clip_2024-07-05_19-58-58](https://i0.hdslb.com/bfs/article/c6f5c14270dc6cdf515985d52bc7c8ae381745966.png)\n\n默认线路的记录值为回退源地址，境内线路的记录值使用社区解析\n\n### Vercel配置域名\n\n将blog.456.com配置到Vercel项目上即可\n"},{"title":"自建优选给Vercel网站再加速","tags":["Cloudflare","域名","文档","白嫖教程"],"categories":["白嫖教程","CDN"],"author":"","excerpt":"\n> 前文：[白嫖Cloudflare优选IP给Vercel网站加速](https://blog.mnxyio.top/posts/tech/cdn)\n\n接前文提到可以使用Cloudflare优选IP","link":"/posts/tech/cdnip","content":"\n> 前文：[白嫖Cloudflare优选IP给Vercel网站加速](https://blog.mnxyio.top/posts/tech/cdn)\n\n接前文提到可以使用Cloudflare优选IP给Vercel网站加速，但社区解析域名隔三岔五就出现无法解析的情况，基于此，我使用[DNSPod](https://console.cloud.tencent.com/cns)自建一个优选域名\n\n## 准备\n\n- 一个托管在DNSPod的域名（也可以托管在其他能指定细分解析线路的DNS服务商）\n\n## 配置\n\n![PixPin_2025-06-13_22-05-11](https://i0.hdslb.com/bfs/openplatform/9e316f9246b58582ce41cce910c4fa7c2cb41122.png)\n\n如图所示，在DNSPod的云解析DNS控制台中添加相应线路类型的a记录，主机记录都需要相同，记录值的ip地址可以自行查看Cloudflare官方公布的ip去进行测速后填入\n\n后面的步骤与前文差不多，将社区解析域名更换成该域名就行\n"},{"title":"CF和EO双CDN部署为网站加速","tags":["Cloudflare","EdgeOne","域名","文档"],"categories":["白嫖教程","CDN"],"author":"","excerpt":"\n最近也是拿到了腾讯云的[EdgeOne](https://edgeone.ai/)的免费版内测码。Cloudflare的优选在国内还是稍微慢了点以及早晚高峰时的超时，为了优化访问，给网站部署了双CD","link":"/posts/tech/cf-eo","content":"\n最近也是拿到了腾讯云的[EdgeOne](https://edgeone.ai/)的免费版内测码。Cloudflare的优选在国内还是稍微慢了点以及早晚高峰时的超时，为了优化访问，给网站部署了双CDN。国内走EdgeOne，国外走Cloudflare\n\n## EdgeOne部署\n\n### 接入EdgeOne\n\n我的主域名是托管在Cloudflare，上面还挂了几个项目，就使用cname接入方式。\n\n![image-20250629190616082](https://i0.hdslb.com/bfs/openplatform/70df853615d36f729d755049666b822ffd86860b.png)\n\n添加完站点后，在Cloudflare上添加cname解析，再将该域名绑定套餐即可使用\n\n### 添加加速域名\n\n![image-20250629191048580](https://i0.hdslb.com/bfs/openplatform/81695f2dae4b624f61046d28f00f273c4f91194c.png)\n\n将需要给用户访问的域名添加为加速域名，源站配置填入服务器的ip地址或者托管平台提供的域名。回源协议使用HTTPS，回源端口填入源站端口，回源HOST头根据需要选择\n\n完成后点击下一步，会要求添加cname解析，按要求操作即可\n\n![image-20250629191600861](https://i0.hdslb.com/bfs/openplatform/7c036a18a33bc8d9d7430928ebfb0a587814bee7.png)\n\n![image-20250629191634536](https://i0.hdslb.com/bfs/openplatform/46f63f6c2bbed06f7ba711cb352a41e368fcd146.png)\n\n等待部署完成后，在HTTPS配置中点击编辑进行申请免费证书\n\n## 双CDN操作\n\n> 如果你之前看过我的[白嫖Cloudflare优选IP给Vercel网站加速](https://blog.mnxyio.top/posts/tech/cdn)和[自建优选给Vercel网站再加速](https://blog.mnxyio.top/posts/tech/cdnip)，则可直接进行本步骤\n\n### 优选EdgeOne ip\n\nEdgeOne给的ip在国内访问有点差，直接ping官网拿到ip进行测速，选择质量好的ip\n\n![image-20250629193103447](https://i0.hdslb.com/bfs/openplatform/62af402fc893f67da646275fa1959ab944e85c08.png)\n\n像我这样分线路解析即可\n\n### 国内外分线\n\n![image-20250629193215473](https://i0.hdslb.com/bfs/openplatform/3038b95d632582bbf52da55c888a853dc7791243.png)\n\n我这里是有几个项目在用，所以解析有三个。默认解析使用Cloudflare Saas的回退源，境内解析使用上面做的a记录\n\n### 项目使用\n\n将第一步的cname解析值修改为上一步的cname记录即可\n\n"},{"title":"永久免费域名白嫖——eu.org","tags":["域名","文档","白嫖教程"],"categories":["白嫖教程"],"author":"","excerpt":"\r\n## 前言\r\n\r\n我购买过域名，也尝试过[Freenom](https://www.freenom.com/)的免费域名，发现要么花钱的很贵，要么免费的续期注册很麻烦，现在则选择了[eu.org域","link":"/posts/tech/domain","content":"\r\n## 前言\r\n\r\n我购买过域名，也尝试过[Freenom](https://www.freenom.com/)的免费域名，发现要么花钱的很贵，要么免费的续期注册很麻烦，现在则选择了[eu.org域名](https://nic.eu.org/)\r\n\r\n## 介绍\r\n\r\neu.org域名注册服务从1996年开始，是为无力承担资金的组织提供的免费域名注册服务，所以官网界面······一言难尽。\r\n\r\n## 是不是顶级域名\r\n\r\n虽然eu.org本身是二级域名，但是已被大部分DNS服务商认定为是顶级域名\r\n\r\n## 注册\r\n\r\n> 在注册前，需要准备谷歌邮箱或者Outlook邮箱以及科学工具\r\n\r\n打开[官网](https://nic.eu.org/)，点击`here`跳转登录页面进行注册（这界面真的可以说是上世纪风格了）\r\n\r\n![image-20230917191503498](https://article.biliimg.com/bfs/article/834b37afbe09b0daccf2a99278f2c34b381745966.png)\r\n\r\n这里点击`Register`，进行信息填写\r\n\r\n![image-20230917191652746](https://article.biliimg.com/bfs/article/a9de05c1d0ff99258abe87fa22b97698381745966.png)\r\n\r\n> 信息填写需要欧美国籍信息，直接搜索美国人虚拟信息生成进行直接生成\r\n\r\n![image-20230917192823131](https://article.biliimg.com/bfs/article/2f56311e864f8981f722eaf14e1ef49f381745966.png)\r\n\r\n点击`Create`，之后邮箱将会收到注册邮件，点击里面的链接进行验证。记住以`-FREE`结尾的`Handle`，这个是登录用的用户名\r\n\r\n输入Handle以及密码，来到管理界面，点击`New Domain`进行获取域名\r\n\r\n![image-20230917193310515](https://article.biliimg.com/bfs/article/236867e7c77dfd25865962f1ee1f773b381745966.png)\r\n\r\n![image-20230917193528684](https://article.biliimg.com/bfs/article/72ee7722764dd4233ebf4492c71ebd5b381745966.png)\r\n\r\n> Name servers可以到[DNSpod](https://www.dnspod.cn/)注册账号获取\r\n\r\n![image-20230917193630895](https://article.biliimg.com/bfs/article/aea2301ed631d65fd101da5c6f0b4207381745966.png)\r\n\r\n之后点击`Submit`进行提交，如果只有Done的提示，那就完成了。等待几个月的时间审核，当审核通过，会有邮件发送到你的邮箱\r\n\r\n### 获取Name servers\r\n\r\nName servers就是DNS服务器，这里使用[DNSpod](https://www.dnspod.cn/)演示\r\n\r\n进入DNSpod控制台，点击`添加域名`\r\n\r\n![image-20230917194317377](https://article.biliimg.com/bfs/article/e41e69d7f3edb6375d13f8d46d04ffb1381745966.png)\r\n\r\n随便填写域名(确保该域名无人使用，最好和申请的域名一样)，复制两个服务器到name1和name2上面\r\n\r\n> 每个人的套餐给的DNS服务器都不一样，使用别人的可能会导致报错\r\n\r\n![image-20230917194855691](https://article.biliimg.com/bfs/article/40f30b89358b4f95b3b4d4c45931ed48381745966.png)\r\n"},{"title":"白嫖永久无限可收发邮箱","tags":["Cloudflare","邮箱","文档","白嫖教程"],"categories":["白嫖教程","Cloudflare"],"author":"","excerpt":"\n::: tip\n\neu.org域名白嫖可看[永久免费域名白嫖——eu.org](https://blog.mnxyio.top/posts/tech/domain)\n\n:::\n\n## Cloudfl","link":"/posts/tech/email","content":"\n::: tip\n\neu.org域名白嫖可看[永久免费域名白嫖——eu.org](https://blog.mnxyio.top/posts/tech/domain)\n\n:::\n\n## Cloudflare配置\n\n### 启用电子邮件路由\n\n![Clip_2024-06-29_12-56-38](https://i0.hdslb.com/bfs/article/c96fcd05cd30bc30fcac048861642bb9381745966.png)\n\n侧边栏 -> 电子邮件 -> 电子邮件路由，跳过入门指南\n\n![Clip_2024-06-29_13-04-16](https://i0.hdslb.com/bfs/article/e55132d7e0b5a6a515c43ba2b89ecf24381745966.png)\n\n点击`启用电子邮件`路由\n\n![Clip_2024-06-29_13-05-51](https://i0.hdslb.com/bfs/article/4aa4119cc512bf75df3b966007ecd699381745966.png)\n\n点击`添加记录并启用`后会自动配置DNS记录\n\n### 配置转发\n\n#### 配置`目标地址`\n\n![Clip_2024-06-29_13-00-43](https://i0.hdslb.com/bfs/article/1fb1b2d19860627b43fe2b621feb538f381745966.png)\n\n将需要收到转发邮件的邮箱地址添加进去\n\n#### 配置`自定义地址`\n\n![Clip_2024-06-29_13-10-40](https://i0.hdslb.com/bfs/article/d1d0b52878aace89c4e857811ae73f62381745966.png)\n\n![Clip_2024-06-29_13-11-38](https://i0.hdslb.com/bfs/article/f1ee89fa0fdf14e6fa9b755040d58cbc381745966.png)\n\n目标位置选择刚才添加的邮件地址，然后保存\n\n#### 配置`Catch-all地址`\n\n![image-20240629131424765](https://i0.hdslb.com/bfs/article/74b0b7f8bbd9d3f666ed18d5c775beaa381745966.png)\n\n![Clip_2024-06-29_13-17-20](https://i0.hdslb.com/bfs/article/2937ca4eae9d7d51d561dfb594386d92381745966.png)\n\n目标位置选择刚才添加的邮件地址，然后保存。再将状态全部改为活动\n\n## Gmail配置\n\n### 获取应用专用密码\n\n访问[应用专用密码](https://myaccount.google.com/apppasswords)，创建密码\n\n![Clip_2024-06-29_13-33-01](https://i0.hdslb.com/bfs/article/9015add150ea555df5788eb2098e3283381745966.png)\n\n系统会自动生成一个密码，复制即可。\n\n::: warning\n\n如果无法创建应用专用密码，需要在[安全性](https://myaccount.google.com/security)页面开启两步验证\n\n:::\n\n### 添加电子邮件地址\n\n访问你的[Gmail邮箱](https://mail.google.com/)\n\n![Clip_2024-06-29_13-26-31](https://i0.hdslb.com/bfs/article/fcedfe2d40d7907ccdb35347cd183b68381745966.png)\n![Clip_2024-06-29_13-27-55](https://i0.hdslb.com/bfs/article/11fb515069ab50c5c99092f8690c050b381745966.png)\n![Clip_2024-06-29_13-36-07](https://i0.hdslb.com/bfs/article/c16603c70982c5348090e3e596ad0cfd381745966.png)\n\n名称任意，电子邮件地址填入Cloudflare配置好的自定义地址\n\n![Clip_2024-06-29_13-38-53](https://i0.hdslb.com/bfs/article/4a1cfa967bd6713e7ca1d9e1be943cbf381745966.png)\n\nsmtp服务器使用Gmail的smtp服务器，用户名填入你登录的Gmail账号的前缀，例如下方图片打马赛克的字符串\n\n![Clip_2024-06-29_13-40-01](https://i0.hdslb.com/bfs/article/708e4e71bf9a2768c02314da84369a37381745966.png)\n\n密码使用刚才创建好的应用专用密码，完成后点击`添加账号`，稍后会有一封验证邮件发送到添加的邮箱地址里。这里我们是到接收转发邮件的邮箱里看。点击验证链接后确认将账号添加到Gmail账户里\n"},{"title":"使用Replit平台免费搭建GitHub下载反代","tags":["Replit","文档","白嫖教程"],"categories":["白嫖教程","Replit"],"author":"","excerpt":"\r\n> 该教程使用到了`Replit`平台`Education`账号，普通账号流量限制10G\r\n\r\n## 部署\r\n\r\n直接上干货，够可以吧😄\r\n\r\n### ~~创建Repl~~ Fork\r\n\r\n老步","link":"/posts/tech/ghproxy","content":"\r\n> 该教程使用到了`Replit`平台`Education`账号，普通账号流量限制10G\r\n\r\n## 部署\r\n\r\n直接上干货，够可以吧😄\r\n\r\n### ~~创建Repl~~ Fork\r\n\r\n老步骤，啊不对，这次换新玩意，不然搞不定。\r\n\r\n打开[项目模板](https://replit.com/@Cloudflare/Cloudflare-Workers)，点击`Use Template`，项目名称随意，`Owner`选择你的`Teams`中的账号，我这里使用`Education`账号作为演示\r\n\r\n> 项目模板：https://replit.com/@Cloudflare/Cloudflare-Workers\r\n\r\n![image-20230906193526730](https://article.biliimg.com/bfs/article/b9b293baee6cc279c9cc9a5ddaabed703acf6cb3.png)\r\n\r\n### 配置\r\n\r\n先点击`Run`跑一遍，按Y回车，然后等待依赖下载完\r\n\r\n![image-20230906193711208](https://article.biliimg.com/bfs/article/35555194f33d0eb8b145d6d2606a5f3bc27011e6.png)\r\n\r\n![image-20230906193746926](https://article.biliimg.com/bfs/article/59a6d6ac69b25fe555804a5ad1189785a330b558.png)\r\n\r\n依赖下载完成，如下图，再次按下回车\r\n\r\n![image-20230906194305958](https://article.biliimg.com/bfs/article/97e071233d1fce8ba5235f3556b4d318c29326f3.png)\r\n\r\n如`Webview`选项卡出现内容，即可继续下面的操作\r\n\r\n![image-20230906195634100](https://article.biliimg.com/bfs/article/19adb0f39b6bab886137d50543ccff1df0f5ed89.png)\r\n\r\n左边文件树，`src -> index.ts`，打开，使用以下链接内的代码覆盖里面的内容\r\n\r\n```html [html]\r\n代码链接：https://raw.githubusercontent.com/MengNianxiaoyao/gh-proxy/master/index.js\r\n\r\n国内用户：https://ghproxy.com/https://raw.githubusercontent.com/MengNianxiaoyao/gh-proxy/master/index.js\r\n```\r\n\r\n![image-20230906195655042](https://article.biliimg.com/bfs/article/e10124878d59e8157d1f1907af28add44af5c4ac.png)\r\n\r\n如果还在运行，则停止重新运行\r\n\r\n![image-20230906195826087](https://article.biliimg.com/bfs/article/a6509d6862f5436131e78402ec9b8c0dc21d8a35.png)\r\n"},{"title":"【个人博客网站】Typora + B站 = 高速图床","tags":["图床","文档","白嫖教程"],"categories":["白嫖教程"],"author":"","excerpt":"\n::: tip\n\n最新版构建现由我提供，[点此下载](https://github.com/MengNianxiaoyao/typora-plugin-bilibili/releases)\n\n:::","link":"/posts/tech/image","content":"\n::: tip\n\n最新版构建现由我提供，[点此下载](https://github.com/MengNianxiaoyao/typora-plugin-bilibili/releases)\n\n:::\n\n## 工具\n\n- [Typora](https://typoraio.cn/)\n- [typora-plugin-bilibili](https://github.com/xlzy520/typora-plugin-bilibili)\n\n## 版本的选择\n\n根据自己的系统下载相应的包\n\n![image-20230908122444107](https://article.biliimg.com/bfs/article/5edbb73baa42ecec316a975bdff888871265fda2.png)\n\n## 插件的使用\n\n> 详细文档：<https://github.com/xlzy520/typora-plugin-bilibili/blob/master/README.md>\n\n### 获取SESSDATA\n\n将下载好的程序放好，打开浏览器\n\n> 登录哔哩哔哩→F12打开控制台→Application(应用)→Cookies→SESSDATA\n\n![image-20230908125137924](https://article.biliimg.com/bfs/article/cf4bd2b5a5aa784862d5f57c6f8fbf2131054d25.png)\n\n### 获取csrf\n\n> 登录哔哩哔哩→F12打开控制台→Application→Cookies→bili_jct\n\n![image-20230908125304241](https://article.biliimg.com/bfs/article/12751cd963eb52bd753fb79bae4037393b301595.png)\n\n### Typora设置\n\n进入Typora设置（偏好设置），选择`图像Tab`，插入图片时选择`上传图片`，然后将`插件的绝对路径`或`相对路径`填入`命令`。如下地方，例如\n\n> 绝对路径\n\n```shell [shell]\n# Mac、Linux\n/Users/xxx/bilibili/typora-plugin-bilibili-macos token=你的SESSDATA csrf=你的bili_jct\n# Windows\nD:\\Downloads\\typora-plugin-bilibili-win.exe token=你的SESSDATA csrf=你的bili_jct\n```\n\n> 相对路径\n\n```shell [shell]\n# Mac、Linux\n./typora-plugin-bilibili-macos token=你的SESSDATA csrf=你的bili_jct\n# Windows\n./typora-plugin-bilibili-win.exe token=你的SESSDATA csrf=你的bili_jct\n```\n\n**其中很重要的后面的`token=你的SESSDATA`，没有这句的话，无法上传成功，如果发现上传失败，那应该就是SESSDATA过期了，需要手动更新**\n\n::: warning\n\n相对路径需要将插件放在Typora安装目录下\n\n:::\n\n![image-20230908125915849](https://article.biliimg.com/bfs/article/77733ee101fc9b7702ba42ecad9610378745b203.png)\n\n### Mac平台说明\n\n> Mac平台的都是需要授权该可执行文件的\n\n1. M1芯片的Mac，需要执行以下命令\n\n```shell [shell]\nchmod a+x ./ 文件名\n```\n\n2. 非M1芯片的，设置打开方式为终端打开，尝试打开时会提示无权限，然后去系统偏好设置->通用，点击允许\n\n## 404解决方案\n\n### 全站图片\n\n在html的head标签中设置如下标志，那么全站资源引用都不会携带referrer\n\n```html [html]\n<meta name=\"referrer\" content=\"no-referrer\">\n```\n\n### 新窗口打开\n\n主要设置rel=\"noreferrer\"，使用window.open打开的话是会默认携带referrer的，第一次还是会403\n\n```html [html]\n<a rel=\"noreferrer\" target=\"_blank\"></a>\n```\n"},{"title":"小米路由器4A千兆版刷机openwrt(含刷回官方)","tags":["杂项","路由器","折腾教程"],"categories":["折腾日记"],"author":"","excerpt":"\n::: tip\n\n参考文档:\n\n[小米路由器4A千兆版刷Padavan(WIN10刷,含刷死救砖)](https://www.right.com.cn/forum/thread-4317222-1-","link":"/posts/tech/lyq","content":"\n::: tip\n\n参考文档:\n\n[小米路由器4A千兆版刷Padavan(WIN10刷,含刷死救砖)](https://www.right.com.cn/forum/thread-4317222-1-1.html)\n\n[论坛收集的几个小米路由器官方bootloader](https://www.right.com.cn/forum/thread-4102208-1-1.html)\n\n[小米路由器R4A(千兆版)固件刷opewrt、刷官方固件](https://blog.csdn.net/qq_43206901/article/details/119106511)\n\n[2022-07-24更新的Breed使用说明](https://blog.w2aa.ga/post/220724breed.html)\n\nbreed下载: [点此跳转下载](https://breed.hackpascal.net)\n\n> 小米路由器使用的两种breed：\n>\n> breed-mt7621-pbr-m1.bin\n>\n> breed-mt7621-xiaomi-r3g.bin\n\n:::\n\n## 准备\n\n::: tip\n\n需要Python环境\n\n:::\n\n### 工具\n\n* breed\n* WinSCP\n* PuTTY\n* 官方修复工具\n\n### 文件\n\n* 官方bootloader\n* breed-mt7621-pbr-m1.bin\n* 路由器对应型号的任意openwrt固件\n* 官方固件\n\n## 刷机\n\n### 获取root权限\n\n任意位置打开powershell，输入以下命令\n\n```shell [shell]\ngit clone https://github.com/acecilia/OpenWRTInvasion.git\ncd OpenWRTInvasion\npip3 install -r requirements.txt\n```\n\n> 如果没有安装Git，可以到GitHub下载源代码\n\n下载完成，运行\n\n```shell [shell]\npython remote_command_execution_vulnerability.py\n```\n\n输入IP(默认为192.168.31.1)，回车后再输入stok值\n\n>stok值为路由器管理后台链接中的`stok=`后面的部分`(stok=XXXXXXXXXX)`\n\n使用PuTTY连接路由器`(电脑需要打开telnet功能)`\n\n> IP address: 192.168.31.1\n>\n> port: 23\n>\n> type: Other(telnet)\n\n连接成功后输入root获取权限\n\n### 刷入breed\n\n用WinSCP登入路由，ftp协议，ip地址192.168.31.1，账号root密码空，把`breed-mt7621-pbr-m1.bin`文件上传到tmp文件夹内\n\n之后执行\n\n``` shell [shell]\ncd /tmp\nmtd -r write breed-mt7621-pbr-m1.bin Bootloader\n```\n\n### 刷入openwrt\n\n::: warning\n\n路由器断开外网\n\n:::\n断开路由器电源，按住reset按钮，通电，三秒后松开，进入恢复后台192.168.1.1，备份eeprom和固件，截图mac地址（变砖后恢复会用到）。\n\n勾选固件，然后将小米4A的固件文件进行上传，然后完成固件更新流程。更新过程请不要切断路由电源！更新完成后, 页面并不会自动刷新, 自己尝试能否进入路由配置页面。\n\n::: tip\n\n建议百度查找一下openwrt应该刷入到哪个分区，否则容易卡开机\n\n:::\n\n## 恢复官方固件\n\n进入breed界面，刷入官方bootloader，重启后使用官方修复工具刷入官方固件\n\n等待重新启动完成即可\n"},{"title":"Ohook——离线永久激活Office全家桶","tags":["Office","文档","白嫖教程"],"categories":["白嫖教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n原文：公众号【知彼而知己】——[重磅：十几年了，Office离线永久激活，突破卡脖子技术！遥遥领先](https://mp.weixin.qq.com/s?__biz=MzA","link":"/posts/tech/ohook","content":"\r\n::: tip\r\n\r\n原文：公众号【知彼而知己】——[重磅：十几年了，Office离线永久激活，突破卡脖子技术！遥遥领先](https://mp.weixin.qq.com/s?__biz=MzA3Nzg3NjYxOQ==&mid=2448169440&idx=1&sn=fc99480a5358c392e03828c0b9a18892&sharer_shareinfo=96240d8becb5785720bf9355d3d1d891&sharer_shareinfo_first=96240d8becb5785720bf9355d3d1d891#rd)\r\n\r\n:::\r\n\r\n> GitHub地址：<https://github.com/asdcorp/ohook>\r\n\r\n## 下载与激活\r\n\r\n以激活Microsoft 365企业应用版(O365ProPluhRetail)为例\r\n\r\n下载dll文件（注意32位和64位），名称改为sppc.dll，然后将其复制到目录\r\n\r\n```shell [shell]\r\n%ProgramFiles%\\Microsoft Office\\root\\vfs\\System\r\n```\r\n\r\n![image-20230929215911728](https://article.biliimg.com/bfs/article/da1ff8265b698200691ac21910a4e988381745966.png)\r\n\r\n以管理员身份运行下面两条命令\r\n\r\n```shell [shell]\r\nmklink \"%ProgramFiles%\\Microsoft Office\\root\\vfs\\System\\sppcs.dll\" \"%windir%\\System32\\sppc.dll\"\r\n\r\nslmgr -ipk 2N382-D6PKK-QTX4D-2JJYK-M96P2\r\n```\r\n\r\n![image-20230929215911729](https://mmbiz.qpic.cn/mmbiz_png/pxopGibm8O50ZiaibxURDAxASxnT2JNFwUFjDAWg9Xra10UIEicuh5IOEt25kaTsUYNvzbxDgY3KCxCnOF3ORK7EvQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1)\r\n\r\n上述步骤，所有版本的Office均适用，只是不同版本的密钥不同、以及Office安装路径不同，替换一下即可。dll文件以及密钥都打包好了\r\n\r\n> 下载链接：[https://www.lanzoub.com/b00rpexlg](https://www.lanzoub.com/b00rpexlg?pwd=4qtm) 密码:4qtm\r\n\r\n## 可选\r\n\r\n对于Microsoft 365有一定概率会向微软服务器发出请求，询问订阅是否到期，一旦检测到则激活失效，所以在hosts中屏蔽一下服务器的检测，或者修改注册表均可\r\n\r\n在`C:\\Windows\\System32\\drivers\\etc\\hosts`末尾添加下述内容\r\n\r\n```shell [shell]\r\n0.0.0.0 ols.officeapps.live.com\r\n```\r\n\r\n或运行下述命令\r\n\r\n```shell [shell]\r\nreg add HKCU\\Software\\Microsoft\\Office\\16.0\\Common\\Licensing\\Resiliency /v \"TimeOfLastHeartbeatFailure\" /t REG_SZ /d \"2033-08-18T22:18:45Z\" /f\r\n```\r\n\r\n打开Office后，可以看到已显示订阅激活，此时并未登录账户\r\n"},{"title":"使用Replit平台免费搭建Web版阅读","tags":["阅读","Replit","文档","白嫖教程"],"categories":["白嫖教程","Replit"],"author":"","excerpt":"\r\n## 阅读\r\n\r\n> 阅读Web版GitHub链接：<https://github.com/hectorqin/reader>\r\n\r\n老书虫应该都听过用过`阅读`这个APP吧？但很可惜的是，它并没","link":"/posts/tech/reader","content":"\r\n## 阅读\r\n\r\n> 阅读Web版GitHub链接：<https://github.com/hectorqin/reader>\r\n\r\n老书虫应该都听过用过`阅读`这个APP吧？但很可惜的是，它并没有ios端。今天，我来出个部署Web版阅读的教程，让ios用户也能使用到阅读\r\n\r\n## 部署\r\n\r\n### 创建Repl\r\n\r\n老规矩，打开`Replit`，新建`Repl`，导入[GitHub仓库](https://github.com/MengNianxiaoyao/reader-replit)或者直接建项目，项目语言选择`Blank Repl`，项目名称随意。\r\n\r\n![image-20230906191554021](https://article.biliimg.com/bfs/article/5f4ead2565c341b589430da0807c4414e438169f.png)\r\n\r\n如果是直接建项目，创建完成需要在`Shell`选项卡执行以下命令\r\n\r\n```shell [git]\r\ngit clone https://github.com/MengNianxiaoyao/reader-replit && mv -b reader-replit/* ./ && mv -b reader-replit/.[^.]* ./ && rm -rf *~ && rm -rf reader-replit\r\n```\r\n\r\n![image-20230906191640704](https://article.biliimg.com/bfs/article/017854297abc64363840f64d794ffc56177ff3c7.png)\r\n\r\n### 配置\r\n\r\n创建完成并导入后，可选是否配置变量。变量配置在`Secrets`选项卡内，如没有可点击红框内加号搜索打开\r\n\r\n![image-20230906191745202](https://article.biliimg.com/bfs/article/f0983077ea41b1f099dbee4d6382be7e56ce51b4.png)\r\n\r\n>如不需要多用户，可跳过此步\r\n\r\n|   变量名   | 内容 |    释义    |\r\n| :--------: | :--: | :--------: |\r\n| secureKey  | 随意 |  管理密码  |\r\n| inviteCode | 随意 | 注册邀请码 |\r\n\r\n### 运行\r\n\r\n一切ok后，点击`Run`运行，如`Console`选项卡弹出选项，直接回车继续运行即可，`Webview`选项卡也会出现阅读的界面\r\n"},{"title":"白嫖永久Typora Windows全版本","tags":["Typora","文档","白嫖教程"],"categories":["白嫖教程"],"author":"","excerpt":"\r\n::: tip\r\n\r\n~~原文：博客【法海之路】——[Typora Windows全版本破解补丁[支持版本更新]](https://www.fahai.org/jszt/14.html)~~ 已失","link":"/posts/tech/typora","content":"\r\n::: tip\r\n\r\n~~原文：博客【法海之路】——[Typora Windows全版本破解补丁[支持版本更新]](https://www.fahai.org/jszt/14.html)~~ 已失效\r\n\r\n:::\r\n\r\n> Typora官网：<https://typora.io>\r\n>\r\n> Typora中文官网：<https://typoraio.cn>\r\n\r\n::: warning\r\n\r\n仅限用于学习和研究目的\r\n\r\n:::\r\n\r\n## 方法\r\n\r\n下载Typora版本对应的补丁，关闭Typora，将winmm.dll放置于Typora安装目录下即可\r\n\r\n![image-20230929222451471](https://article.biliimg.com/bfs/article/2573f0652016c655393e5bde4e6520b7381745966.png)\r\n\r\n### 补丁下载\r\n\r\n::: warning\r\n\r\n补丁仅支持到1.9.5版本\r\n\r\n:::\r\n\r\nTypora_x64 Windows版破解补丁下载地址：[点击此处下载](https://www.fahai.org/aDisk/Typora/x64_Patch.zip)\r\n\r\nTypora_x86 Windows版破解补丁下载地址：[点击此处下载](https://www.fahai.org/aDisk/Typora/x86_Patch.zip)\r\n\r\n## 1.10.8\r\n\r\nWindows 1.10.8版本直装破解版下载地址：[点击此处下载](https://www.123912.com/s/1M3KVv-eNssH)\r\n\r\n## 1.11.6\r\n\r\nWindows 1.11.6版本绿色破解版下载地址：[点击此处下载](https://www.123912.com/s/1M3KVv-9QWsH)\r\n"},{"title":"使用Replit平台免费搭建站点监控工具——Uptime-Kuma","tags":["Replit","Uptime","文档","白嫖教程"],"categories":["白嫖教程","Replit"],"author":"","excerpt":"\r\n## 什么是Uptime-Kuma\r\n\r\n它是类似于`Uptime Robot`的自托管监控工具。在GitHub上开源，可通过Docker与非Docker方式进行部署，界面简洁，支持多种语言\r\n\r","link":"/posts/tech/uptime","content":"\r\n## 什么是Uptime-Kuma\r\n\r\n它是类似于`Uptime Robot`的自托管监控工具。在GitHub上开源，可通过Docker与非Docker方式进行部署，界面简洁，支持多种语言\r\n\r\n## 部署在Replit\r\n\r\n### Replit平台\r\n\r\n> 官网：<https://replit.com>\r\n\r\nReplit 可以帮助开发者将代码更完整、生成代码、转换代码和解释代码。基于 Replit，用户可以在浏览器中运行代码、创建项目、与他人协作和共享项目。Replit 还提供了一系列工具和功能，例如代码自动完成、调试器、版本控制和部署工具等，以便用户能够更轻松地进行编程工作。另外，Replit 还提供了大量的编程语言和框架支持，包括 Python、Java、Ruby、JavaScript、React 和 Flask 等，还可以一键部署 Github 的开源代码。\r\n\r\n### Create a Repl\r\n\r\n在replit主界面点击右上角`加号`或者蓝色按钮`Create Repl`，在弹出的界面上点击`Import from GitHub`，填写项目链接并选择项目语言为`bash`，完成后点击`Import from Github`进行部署\r\n\r\n![image-20230829203236867](https://article.biliimg.com/bfs/article/a3d7f9bba6533c48aa17dc8f9e1d021e8d549e95.png)\r\n\r\n> 项目链接: <https://github.com/louislam/uptime-kuma>\r\n\r\n### Config\r\n\r\n从 GitHub 上 Clone 成功后，配置文件 `.replit`（首次配置会弹输入框，将命令填写进去），配置运行命令如下\r\n\r\n```shell [nodejs]\r\nnode server/server.js\r\n```\r\n\r\n![image-20230829204421489](https://article.biliimg.com/bfs/article/9f04b5ea2d3755778dd9a7c6664b59c15afefa6b.png)\r\n\r\n此时不点击运行，在右侧`Console`或者`Shell`选项卡里输入`node`，并选择第一个选项`nodejs-16_x.out`进行安装环境\r\n\r\n```shell [nodejs]\r\nnode\r\n```\r\n\r\n![image-20230829204617181](https://article.biliimg.com/bfs/article/1d8392c753b606a90885105c58e6697a6f6a5552.png)\r\n\r\n安装完成后，输入`npm run setup`，等待运行完成\r\n\r\n```shell [shell]\r\nnpm run setup\r\n```\r\n\r\n![image-20230829204819886](https://article.biliimg.com/bfs/article/86fb65a82560be11b60d8f72ea1b5c92f355ef7f.png)\r\n\r\n### Run\r\n\r\n步骤完成后，点击`Run`或者按下`Ctrl+Enter`快捷键运行Uptime-Kuma，若出现`Webview`选项卡以及网址，即运行成功。可在`Webview`选项卡或者打开网址进行配置Uptime-Kuma\r\n\r\n## 怎么升级\r\n\r\n由于此教程采取非Docker方式部署，可以使用以下命令进行升级，Replit平台部署无需第三步，直接重启Repl即可\r\n\r\n> Wiki: <https://github.com/louislam/uptime-kuma/wiki/%F0%9F%86%99-How-to-Update#--non-docker>\r\n\r\n### Update from git\r\n\r\n此处选择当前最新版本1.23.1，版本可以切换，视情况而变\r\n\r\n```shell [git]\r\ngit fetch --all\r\ngit checkout 1.23.1 --force\r\n```\r\n\r\n### Install dependencies and prebuilt\r\n\r\n```shell [npm]\r\nnpm install --production\r\nnpm run download-dist\r\n```\r\n\r\n### Restart\r\n\r\n```shell [shell]\r\npm2 restart uptime-kuma\r\n```\r\n\r\n> 使用pm2命令重启需要安装`PM2`，Replit平台无需安装，`Stop`然后`Run`就行\r\n"},{"title":"使用Better Stack部署免费的站点监测","tags":["Better Stack","Uptime","文档","白嫖教程"],"categories":["白嫖教程","Replit"],"author":"","excerpt":"\n前面介绍过使用Replit搭建Uptime-Kuma和使用UptimeRobot API进行获取站点监测数据，但两者在我看来都不太好用。Uptime-Kuma在Replit中要一直保活，不保活就得自","link":"/posts/tech/uptime2","content":"\n前面介绍过使用Replit搭建Uptime-Kuma和使用UptimeRobot API进行获取站点监测数据，但两者在我看来都不太好用。Uptime-Kuma在Replit中要一直保活，不保活就得自己使用服务器搭建。而使用UptimeRobot API获取数据，我无论怎么修改代码，获取的数据在时区处理上均存在问题。刚好，发现了[Better Stack](https://betterstack.com/)的[uptime](https://uptime.betterstack.com/)服务。\n\n## Monitors\n\nBetter Stack的Monitor里，总体功能和UptimeRobot差不多，但要付费的功能比UptimeRobot少，而且部分高级功能是免费的。但是呢，缺点也是有的，监测器类型里，端口监测在Better Stack中是要付费的。\n\n![image-20250831103510744](https://i0.hdslb.com/bfs/openplatform/a554cdbbf7a862ceb9f300ec102de6989fe66b64.png)\n\n## Status pages\n\nBetter Stack的Status pages自定义功能比较多，且能免费绑定自定义域。\n\n在maintenance页面，可以创建维护计划，告知访问者网站何时会进行维护。\n\nUptimeRobot的Status page，默认英文且不可更改，但是Better Stack的Status page中，能根据需要自行创建一个语言翻译。根据不同用户的语言习惯，可以部署多个语言，用户也能自行切换语言。\n"},{"title":"使用Cloudflare Workers搭建UptimeRobot官方API反代","tags":["Uptime","Cloudflare","文档","白嫖教程"],"categories":["白嫖教程","Cloudflare"],"author":"","excerpt":"\n> 代码来源：<https://github.com/yb/uptime-status>\n\n## 代码\n\n```js [worker.js]\nconst handleRequest = async ","link":"/posts/tech/uptimeapi","content":"\n> 代码来源：<https://github.com/yb/uptime-status>\n\n## 代码\n\n```js [worker.js]\nconst handleRequest = async ({ request }) => {\n  let url = new URL(request.url);\n  let response = await fetch('https://api.uptimerobot.com' + url.pathname, request);\n  response = new Response(response.body, response);\n  response.headers.set('Access-Control-Allow-Origin', '*');\n  response.headers.set('Access-Control-Allow-Methods', '*');\n  response.headers.set('Access-Control-Allow-Credentials', 'true');\n  response.headers.set('Access-Control-Allow-Headers', 'Content-Type, Access-Token');\n  response.headers.set('Access-Control-Expose-Headers', '*');\n  return response;\n}\n\naddEventListener('fetch', (event) => {\n  event.respondWith(handleRequest(event));\n});\n```\n\n将上面的代码部署到worker中即可\n"}]
